(function(e){var m=window.AmazonUIPageJS||window.P,g=m._namespace||m.attributeErrors,b=g?g("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,m,g){e.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,f,d,k){c.isDefined(b)&&(h.type=b);c.isDefined(a)&&(h.index=a);c.isDefined(q)&&(h.thumbnailIndex=q);c.isDefined(f)&&(h.variant=f);c.isDefined(d)&&(h.color=
d);h.shoppableScene=k||null}function l(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function f(a){a=a.data;d=b.copy(h);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function k(a){f(a);a=b.copy(a);a.data=b.copy(h);n.dispatch("updateView",a)}function e(){d=b.copy(h);l(h.color)}var a,n,h={},d={},m,r;return function(c,g){n=g;a=c;n.register("updateSelection",k);n.register("updateModel",f);n.register("resetModel",e);this.init=function(){l()};this.getCurrentItem=
function(){return b.copy(h)};this.getPreviousItem=function(){return b.copy(d)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){r=a};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(d.type,d.index,d.thumbnailIndex,d.variant,d.color,d.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";e.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,e,l){this.getImageHash=function(f){var k=l.getCurrentItem();f=b.getIndexForVariant(k.color,f||"MAIN",c);return b.getImageHash(k.color,f,c)};this.onImageUpdateForTwister=function(b){e.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";e.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,e,l,f){var k={};return function(g){var a=this;a.dispatch=function(a,c){var d=k[a];l.isDefined(d)&&b.each(d,function(a,b){b.call(m,c)})};a.register=function(a,b){l.isDefined(k[a])||(k[a]=[]);"function"===typeof b&&k[a].push(b)};a.model=new c(g,a);a.view=new e(g,a,a.model);a.api=new f(g,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";e.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,g,l){b=b.extend(!0,
{},g,l);var f=new c(b);e.register("ImageBlockAPI",function(){return f.api});return f})});
/* ******** */
(function(P){var z=window.AmazonUIPageJS||window.P,Z=z._namespace||z.attributeErrors,q=Z?Z("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):z;q.guardFatal?q.guardFatal(P)(q,window):q.execute(function(){P(q,window)})})(function(P,z,Z){P.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(q,b,h,d,H,u,L){function M(a,n,c,r,v){if(!h.isjQueryObjDefined(a.find(".a-button-selected"))){var g=
w.getCurrentItem();if(!r||"chromeless-video"!==g.type||!e.autoplayVideo){r=0;"image"===g.type&&(r=Math.max(h.getIndexForVariant(g.color,g.variant,e),0));var d=0;h.isDefined(e.heroImage[g.color])&&(d=e.heroImage[g.color].length);v=r-(n>=e.maxAlts?e.maxAlts-v-d:0);n=0<=v?n+v:r+d;n>=c&&(r=0,n=d);c=h.getImageHash(g.color,r,e);-1!==c&&(m.dispatch("updateModel",{data:{index:r,thumbnailIndex:n,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=a.find(".item").get(n),h.selectGivenThumbnail(b(c),
a))}}}function E(a){if(!e.useChildVideos)return h.lazyLoadingRequired(w.getCurrentItem(),w,e)?void 0:e.videos;if(e.colorToVideo[a])return e.colorToVideo[a];var b=e.colorToAsin[a];if(b&&b.asin){var c={};c.params={asin:b.asin,productGroupID:e.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:e.useChromelessVideoPlayer,isUDP:e.isUDP};e.isDPXFeatureEnabled||(c.success=function(a){videosOnTwisterRefresh(a)},d.load(VIDEO_AJAX_ENDPOINT,c));return e.colorToVideo&&e.colorToVideo[a]}}function t(A,
n,c){if((2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment)&&c)return A;var r=E(n),g=h.isDefined(r)&&0<r.length&&e.alwaysIncludeVideo?1:0;n=e.colorImages&&e.colorImages[n];var r=A,d=0;h.isDefined(n)&&(b.each(n,function(n,k){if(d>=e.maxAlts-g&&A<e.maxAlts+e.additionalNumberOfImageAlts){if(2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment){var l=b(".thumbItemUnrolled");l[A]?l[A].querySelector("img").src=k.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
n+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(A+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(A+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(A+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+k.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else h.createThumbnail({type:"image",
index:n,thumbnailIndex:A,variant:k.variant,shoppableScene:k.shoppableScene},k.thumb,a,"imageThumbnail");A++}d++}),u.isEnabled&&L.logAltImgRequestPlacedOnThumbnails(b,u,w),M(a,r,A,c,g));return A}function C(a,b){e.useIV&&h.isDefined(b.hiRes)&&a.css("cursor","pointer")}function B(a,n){if("image"===a.type){var c=b("#image-canvas-caption #canvasCaption"),r,g=e.staticStrings,d=e.colorImages,m=a.color,k=a.index;h.isShoppableScenesEnabled()&&a.shoppableScene?r=g.clickSceneTagsToShopProducts:n&&e.useIV?r=
g.clickToExpand:d[m]&&d[m][k].hiRes&&e.useHoverZoom?(r=e.useHoverZoomIpad?g.touchToZoom:e.useClickZoom?g.clickToZoom:g.rollOverToZoom,e.hoverZoomIndicator&&(r="\x3cimg src\x3d'"+e.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+r)):e.useIV&&(r=g.clickToExpand);c.html(r)}}function I(a,r){var c="a-dynamic-image";if(!e.acEnabled){var g;b.each(a.main,function(a,l){h.isDefined(g)||(g=parseFloat(l[1]/l[0])<=parseFloat(e.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=g}var d=h.getMaxDimensionsOfMainImage(a.main,
x,e),m=d[0],p=d[1],d=b("\x3cdiv\x3e\x3c/div\x3e"),m={"max-height":m,"max-width":p};d.addClass(c).css(m).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:r}).data("a-dynamic-image",a.main);return d}function y(a,b,c){var r="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",r,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+a);c=p.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
c.addClass("celwidget").attr("cel_widget_id",r);c.children("span").css("display","inline-block");m.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in z&&(new MutationObserver(function(c,r){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){q.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),r.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",r,{wb:1});return c}function D(a,b,c){c=I(a,c);a=h.isShoppableScenesEnabled()&&a.shoppableScene?y(b,a,c):p.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(c);p.find(".list").append(a);q.loadImageManually(c);return a}function N(a){var b=x.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");e.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(e.imgTagWrapperClasses)}function F(a,
c,r,g){if((2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment)&&!g&&"unavailable"!==a.type){a=e.colorImages&&e.colorImages[r];c=b(".unrolledImg");r=E(r);var d=h.isDefined(r)&&0<r.length&&e.alwaysIncludeVideo?1:0;c.length>e.maxAlts&&c.each(function(a){a>=e.maxAlts&&b(this).remove()});h.isDefined(a)&&b.each(a,function(a,c){a<e.maxAlts-d+e.additionalNumberOfImageAlts&&a>=e.maxAlts-d&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(a+d+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+d)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(a+d)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}else if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){r=h.getImageHash(a.color,a.index,e);if(-1===r)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},h.lazyLoadingRequired(a,w,e)||(m.dispatch("updateModel",c),h.showUnavailable(a.color)),-1;g=p.find(".item.itemNo"+a.thumbnailIndex);h.isjQueryObjDefined(g)||
(g=D(r,a.thumbnailIndex,c));N(g);m.dispatch("loadMagnifier");B(a);C(g,r);q.trigger("dp:image-block:update",r)}}function g(a){var b=w.getCurrentItem().color;e.colorImages[b]||(e.colorImages[b]=a);a={type:"updatedData",data:w.getCurrentItem()};m.dispatch("updateView",a);(b=e.colorToAsin[b])&&b.asin&&P.register(h.rankedImagesReadyEvent(b.asin))}function c(){var a=p.find(".item .imgTagWrapper"),c=h.getContainerHeight(x,e.holderRatio,e.holderMaxHeight);0<c&&(x.height(c),a.height(c));p.find("img.a-dynamic-image").each(function(){var a=
b(this);a.data("a-manual-replacement")&&q.loadDynamicImage(this);var c=a.data("a-dynamic-image"),c=h.getMaxDimensionsOfMainImage(c,x,e);a.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function r(a){B(w.getCurrentItem(),"mouseenter"===a.type)}var T,e,w,m,a,p,x,G;return function(d,n,B,u){T=this;e=d;w=n;m=u;q.on("triggerImageAjax",g);e.colorImages[e.landingAsinColor]=e.colorImages[e.defaultColor];T.render=function(c,r,g,k,l,f,K){p=g;a=k;x=l;G=t(r,c,f);f||(r=w.getCurrentItem(),h.lazyLoadingRequired(r,
w,e)&&m.dispatch("updateModel",{data:{type:"lazy-loaded"}}));r=w.getCurrentItem();g=!f;h.lazyLoadingRequired(r,w,e)||(b("#imageBlock").css("opacity","1"),p.css("opacity","1"),h.spinner(p,!1),p.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),h.hideUnavailable(),g&&p.find(".list .item").remove());F(w.getCurrentItem(),K,c,f);return G};T.update=function(a){};e.overrideAltImageClickAction&&h.addTag("clickEnabledOnAltImages");m.register("imageHover",r);m.register("resize",
c)}});"use strict";P.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(q,b,h){var d,H,u,z;return function(b,E,t,C){d=this;H=b;u=C;d.render=function(b,u,y,t,C,F,g){z=t;d=this;y=H.maxAlts;t=u;C=H.colorImages[b]?H.colorImages[b].length:0;C+=h.getVideosCount(b,H);b=H.heroImage[b];F=0;b&&(F=b.length);b=C+F;b>y&&(y=b-y,b=z.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),y+="+",t={type:"ingress",index:0,
thumbnailIndex:u,variant:""},b.find("#altIngressText").append(y),q.declarative.create(b,"thumb-action",t),z.append(b),t=u++);return t};d.update=function(b){"ingress"===b.data.type&&"click"===b.type&&u.dispatch("imageClick",b)}}});"use strict";P.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(q,b,h,d){function z(c,g,e,w){if(!h.isjQueryObjDefined(c.find(".a-button-selected"))){var m=D.getCurrentItem();if(!w||"chromeless-video"!==m.type||!y.autoplayVideo){w=
0;if("hero-image"===m.type){w=L(m.color,m.variant);if(-1===w)return;w=-1!==w?w:0}var a=g+w;a>=e&&(w=0,a=g);g=d.getHeroImageHash(y,m.color,w);-1!==g&&(N.dispatch("updateModel",{data:{index:w,thumbnailIndex:a,variant:g.variant,type:"hero-image"}}),g=c.find(".item").get(a),h.selectGivenThumbnail(b(g),c))}}}function u(c,g,e){if("hero-video"===D.getCurrentItem().type)return c;g=y.heroImage&&y.heroImage[g];var d=c;h.isDefined(g)&&(b.each(g,function(b,a){c<y.maxAlts&&(h.createThumbnail({type:"hero-image",
index:b,thumbnailIndex:c,variant:a.variant},a.thumb,F,"imageThumbnail"),c++)}),z(F,d,c,e));return c}function L(c,g){var d=y.heroImage;if(1>d.length||!h.isDefined(d[c])||!h.isDefined(g))return-1;var w=-1;b.each(d[c],function(b,a){a.variant===g&&(w=b)});return w}function M(){if(g.length&&y.repositionHeroImage){var b=d.getHeroDimParams(y,D.getCurrentItem()),c;h.isDefined(b)&&(c=h.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ",g.css({"background-position":c,"background-size":b.width+
"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""}))}}function E(b,c,e,w){if(g.length&&b&&c){if("function"===typeof e||w){var m=new Image;m.onload=w?function(){g.css("background-image",'url("'+b+'")')}:e;m.src=b}e=c[1];var m=c[0],a;w||g.css({"background-image":'url("'+b+'")'});y.repositionHeroImage&&(c=d.getHeroDimParams(y,D.getCurrentItem(),c),h.isDefined(c)&&(e=c.width,m=c.height,a=h.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+
"px "));g.css({"background-position":a,"background-size":e+"px "+m+"px ","max-width":e+"px ","min-height":m+"px ",filter:"","-ms-filter":""})}}function t(c,g,e,h){c=d.getHeroImageHash(y,c,g);if(-1===c)return-1;g=b.map(c.main,function(c,a){return a})[0];E(g,c.main[g],e,h)}function C(c,b,g){if("hero-image"!==c.type)return-1;var h=L(c.color,D.getCurrentItem().variant),h=-1!==h?h:0;if(-1===d.getHeroImageHash(y,c.color,h))return-1;var m=D.getCurrentItem();c.thumbnailIndex=m.thumbnailIndex;c.type=m.type;
c.variant=m.variant;c.index=h;B(c,b,g)}function B(b,h,e){var u=d.getHeroImageHash(y,b.color,b.index),m;m=b&&c&&q.equals(b,c)?!0:!1;c||(c=b);if(!m&&b||h)t(b.color,b.index,h,e),c=b;g.removeClass("hide-background");q.trigger("dp:image-block:update",u)}var I,y,D,N,F,g,c={};return function(c,d,e,q){I=this;y=c;D=d;N=q;y.heroImage[y.landingAsinColor]=y.heroImage[y.defaultColor];I.render=function(c,a,d,h,e,r,n){F=h;g=b("#heroImage");c=u(a,c,r);C(D.getCurrentItem(),n,r);return c};I.update=function(c){var a=
c.data;"ingress"!==a.type&&g.addClass("hide-background");"swatchHover"===c.type?c.captured||(a.type=D.getCurrentItem().type,-1!==C(a)&&(c.captured=!0)):"hero-image"===a.type&&(B(a),"click"!==c.type&&y.usePeekHover||h.selectGivenThumbnail(c.$declarativeParent,F))};N.register("resize",M)}});"use strict";P.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(q,b,h,d,H,u){function L(b){F?b.css("cursor","url('"+B.staticImages.zoomIn+
"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}function M(b){var c=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(h.isDefined(c))for(var c=c[1].split("_"),d=0;d<c.length;d++){var q=c[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);h.isDefined(q)&&(b[q[1]]=parseInt(q[2],10))}return b}function E(g,c){function r(){var a;c.useClickZoom?(a=c.offsetInClickZoom,a=[Math.min(1,Math.max(0,C[0]-(J[0]+a))/(J[2]-2*a)),Math.min(1,Math.max(0,C[1]-(J[1]+a))/(J[3]-
2*a))]):a=t&&t.updatePosition();if(a&&n&&n.detailSize){var b=[n.detailSize[0]-n.rect.width,n.detailSize[1]-n.rect.height];q.capabilities.rtl?n.detailImage.get(0).style.right=-(a[0]*b[0])+"px":n.detailImage.get(0).style.left=-(a[0]*b[0])+"px";n.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function y(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function e(a){var c=K?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";C=K?[c.pageX,c.pageY]:[a.pageX,a.pageY];if(q.capabilities.rtl){var f=
b(z).width();C=K?[f-c.pageX,c.pageY]:[f-a.pageX,a.pageY]}}function w(a){K&&a.preventDefault();e(a);c.useClickZoom?a=[J[0],J[1],J[0]+J[2],J[1]+J[3]]:(a=t?t.offset:g.offsetParent().offset(),a=B.acEnabled?[a.left,a.top,G.width()+a.left,G.height()+a.top]:[v[0]+a.left,v[1]+a.top,v[0]+v[2]+a.left,v[1]+v[3]+a.top]);C[0]<a[0]||C[1]<a[1]||C[0]>=a[2]||C[1]>=a[3]||B.acEnabled&&!y(g)?(c.fadeMagnifier?W||(W=!0,I=setTimeout(function(){m(!0)},500)):c.useClickZoom||m(),E&&(E=!1,clearTimeout(N))):(E||(E=!0,N=setTimeout(function(){d.postCountMetric("dppc_hoverZoomOpened");
H.isEnabled&&u.logHoverZoomRequestServed(H)},1E3)),c.fadeMagnifier&&W&&(W=!1,clearTimeout(I)),r())}function m(c){c&&x.suppressMagnifier(!0);if(k&&(n&&n.hide(),t&&(t.destroy(),t=null),k=!1,K?(g.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),p(),c))g.one("click.magnifier touchstart.magnifier",function(c){a(c,!0)})}function a(a,h){h&&x.suppressMagnifier(!1);if(!k&&
!l&&(0===O&&(d.postCountMetric("dppc_hoverTime",new Date-(z.ue&&z.ue.t0||0)),O=1),U[f]||(d.postCountMetric("dppc_hoverMain"),U[f]=1),v=[g.position().left,g.position().top,g.width(),g.height()],f&&(e(a),n?n.refit().show():n=new ca,c.useClickZoom||(t=t||new V),J=n.getWindowSize(),r()),k=!0,K?(g.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",w).bind("touchend.magnifier",m),b(document).trigger("engaged.magnifier")):(B.acEnabled?G.unbind("mousemove.magnifier"):g.unbind("mousemove.magnifier"),
b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",w)),h)){var fa=b("#zoomWindow");if(0<fa.length)fa.one("click.magnifier touchend.magnifier",function(a){m(!0)})}}function p(){c.useHoverZoom&&(K?g.bind("touchstart.magnifier touchmove.magnifier",a):B.acEnabled?y(g)&&G.bind("mousemove.magnifier",a):g.bind("mousemove.magnifier",a))}var x=this,G=g.offsetParent(),A={detailImageUrl:g.attr("data-old-hires"),location:"over",locationElement:g,prelaod:"ready",zIndex:50,offsetInClickZoom:50};
c=b.extend(A,c);c.adjustment=[10,0,-10,0];var n=null,t=null,C=null,v=null,J=null,D={"null":1,"":1,undefined:1},k=!1,l=!1,f=c.detailImageUrl,K=c.useHoverZoomIpad||0,O=0,U={},V=function(){function a(c){var f=Math.round(Math.min(g.width(),n.rect.width/c));c=Math.round(Math.min(g.height(),n.rect.height/c));d.css({width:f,height:c});k=[f,c]}var f=this,k=[0,0],l=(n.detailSize&&n.detailSize[0]||5E8)/v[2],K=(n.detailSize&&n.detailSize[1]||5E8)/v[3],l=K>l?K:l;b("#magnifierLens").remove();var d=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
c.generalImageUrls.zoomLensBackground&&d.css({backgroundImage:"url("+c.generalImageUrls.zoomLensBackground+")"});B.showMagnifierOnHover?L(d):d.css("cursor","pointer");f.updatePosition=function(){var a=[v[2]-k[0],v[3]-k[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(C[0]-k[0]/2-v[0]-f.offset.left)/a[0])),b=0>=a[1]?.5:Math.max(0,Math.min(1,(C[1]-k[1]/2-v[1]-f.offset.top)/a[1])),l=v[0]+Math.round(c*a[0]),a=v[1]+Math.round(b*a[1]);d.get(0).style.left=l+"px";d.get(0).style.top=a+"px";return[c,b]};f.destroy=function(){d.remove()};
f.offset=g.offsetParent().offset();a(l);f.updatePosition();d.appendTo(g.parent());n.detailImage[0].complete||n.detailImage.load(function(){var c=n.detailImage.width()/v[2];a(c);f.updatePosition()})};V.preload=function(){x.preload(c.generalImageUrls.lensBackgroundUrl)};var ca=function(){function a(){var f={};if("over"===c.location){var f=c.useClickZoom,k={},d=b("#leftCol"),e=b("#centerCol"),X=b("#rightCol"),V=b("#hover-zoom-end"),p=b("#actionPanelContainer"),r=h.isjQueryObjDefined(d)?d.outerHeight():
e.outerHeight();k.top=h.isjQueryObjDefined(d)?d.offset().top:e.offset().top;k.bottom=r+k.top;k.right=h.isjQueryObjDefined(X)?X.offset().left:p.offset().left;k.left=f?0:d.offset().left+d.outerWidth();h.isjQueryObjDefined(V)&&V.offset().top>k.bottom&&(k.bottom=V.offset().top);f=k}else"right"===c.location&&(f=g.offset(),f={left:f.left+g.outerWidth(),top:f.top,right:f.left+g.outerWidth()+400,bottom:f.top+400});c.minHeightElement&&(f.bottom=Math.max(f.bottom,f.top+b(c.minHeightElement).outerHeight()));
f.bottom=Math.min(f.bottom,b(z).scrollTop()+b(z).height());f.left+=K[0];f.top+=K[1];f.right+=K[2];f.bottom+=K[3];f.width=f.right-f.left;f.height=f.bottom-f.top;c.enhancedHoverOverlay&&h.isDefined(z.pageXOffset)&&(k=b(z).width(),f.width=k-f.left+z.pageXOffset-18,f.height-=14);O.css({left:f.left,top:f.top,width:f.width,height:f.height});l.rect=f;return l}function k(a){var f=new Image;l.detailSize=[0,0];f.onload=function(){l.detailSize=[f.width,f.height];r()};f.src=a.attr("src");if(0<f.width&&0<f.height)l.detailSize=
[f.width,f.height];else if(c.detailImageSize)l.detailSize=c.detailImageSize;else{a=M(f.src);var b=v[2]/v[3];a.SS||a.AA?(a=a.SS||a.AA,l.detailSize=[a,a]):a.SX?l.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?l.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(l.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var l=this,K=c.adjustment;b("#zoomWindow").remove();var d={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:c.zIndex};c.enhancedHoverOverlay&&(d.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
d.border="1px solid #949494",d.borderColor="rgb(148,148,148)");var O=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(d);c.fadeMagnifier&&O.fadeIn(200);c.useClickZoom&&(F?O.css("cursor",'url("'+c.zoomOutIcon+'"), auto'):(O.css("cursor","-webkit-zoom-out"),O.css("cursor","-moz-zoom-out"),O.css("cursor","zoom-out")));l.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");l.detailImage&&l.detailImage.remove();O.append(a);b(document).trigger("updated.magnifier");
l.detailImage=a;k(l.detailImage)};l.refit=function(){a();k(l.detailImage);return l};c.fadeMagnifier?(l.show=function(){O.fadeIn(200);return l},l.hide=function(){O.fadeOut(200);return l}):(l.show=function(){O.show();return l},l.hide=function(){O.hide();return l});l.destroy=function(){O.remove();return l};l.getWindowSize=function(){return[l.rect.left,l.rect.top,l.rect.width,l.rect.height]};l.updateImage(f);a();O.appendTo(document.body)},W=!1,I,E=!1,N;x.preload=function(a){a=b.makeArray(a);for(var f=
a.length,c=0;c<f;c++)a[c]instanceof Array?x.preload(a[c]):"string"===typeof a[c]&&a[c]&&!D[a[c]]&&(D[a[c]]=new Image,D[a[c]].src=a[c])};x.changeImage=function(a,l){k&&m();f=l;g.attr("src",a);x.preload(a);v=[g.position().left,g.position().top,g.width(),g.height()];l&&("immediately"===c.preload?x.preload(l,!0):b(z).ready(function(){x.preload(l)}),n?n.updateImage(l):g.attr("data-old-hires",l))};x.destroy=function(){B.acEnabled?G.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
g.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");t&&t.destroy();t=null;n&&n.destroy();n=null};x.detailImage=function(){return n.detailImage};x.suppressMagnifier=function(a){l=a};x.isEngaged=function(){return k};x.engageMagnifier=a;x.disengageMagnifier=m;g[0].complete?p():g.one("load",p);x.preload(g.attr("src"));z.performance&&performance.now&&z.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(c.preload){var X=
c.detailImageUrl,A=function(){x.preload(X,!0);c.useClickZoom||V.preload()},aa=c.preload;aa.constructor!==Array&&(aa=[aa]);for(var Y=0;Y<aa.length;Y++)if("immediately"===aa[Y])A();else if(b(z)[aa[Y]])b(z)[aa[Y]](A);else b(z).bind(aa[Y],A)}return x}function t(){if(B.useHoverZoom){var d={adjustment:[0,0,1,1],generalImageUrls:B.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:B.useHoverZoomIpad,useHoverZoom:B.useHoverZoom,useClickZoom:B.useClickZoom,
fadeMagnifier:B.fadeMagnifier,zoomOutIcon:B.staticImages.zoomOutCur,enhancedHoverOverlay:B.enhancedHoverOverlay||B.atfEnhancedHoverOverlay};D&&(D.destroy(),D=Z);var c=N.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");h.isjQueryObjDefined(c)?B.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(b){D=new E(c,d);D.engageMagnifier(b,!0)}),F?c.css("cursor",'url("'+B.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),
c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))):D=new E(c,d):H.isEnabled&&u.logHoverZoomApplicability(b,H)}}var C,B,I,y,D,N,F=navigator.userAgent.match(/msie|trident/i);return function(b,c,d,h){C=this;B=b;I=c;H.refToModel=I;y=h;C.render=function(c,b,d,a,g,h){N=d;D&&(D.destroy(),D=Z)};C.update=function(c){};y.register("loadMagnifier",t);y.register("resize",t)}});"use strict";P.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(q,b,h,d){function H(b,
q,u){b=(b=u?u:h.getColorFromState(q.getState().hovered_variations,M))&&""!==b?b:M.defaultColor;t.dispatch("updateView",{type:"swatchHover",data:{color:b}});d.postCountMetric("swatchHover")}function u(b,q,u,y){b=(b=y?y:h.getColorFromState(q.getState().selected_variations,M))&&""!==b?b:M.defaultColor;b===E.getCurrentItem().color?"function"===typeof u&&u():(t.dispatch("updateSelection",{type:"swatchClick",data:{color:b},onload:function(){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===
typeof z.markFeatureRender&&z.markFeatureRender("imageblock",b);u()}}),d.postCountMetric("swatchClick"))}var L,M,E,t;return function(b,d,h,y){L=this;M=b;E=d;t=y;q.on("image-block-twister-swatch-hover",H);q.on("image-block-twister-swatch-click",u);L.render=function(b,d,h,g,c){};L.update=function(b){}}});"use strict";P.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(q,b,h,d,H,u,L){function M(f,
c,k,l){if(!h.isjQueryObjDefined(f.find(".a-button-selected"))){var d=p.getCurrentItem();if(!l||"chromeless-video"!==d.type||!a.autoplayVideo)if(l=0,"image"===d.type&&(l=Math.max(B(d.color,d.variant),0)),!(d.thumbnailIndex>=a.maxAlts&&0!=l)){var g=c+l;g>=k&&(l=0,g=c);c=h.getImageHash(d.color,l,a);-1!==c&&(x.dispatch("updateModel",{data:{index:l,thumbnailIndex:g,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=f.find(".item").get(g),h.selectGivenThumbnail(b(c),f))}}}function E(f,
c,k){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&k)return f;var l=a.colorImages&&a.colorImages[c];c=f;2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment||b(".thumbItemUnrolled").each(function(f){(!b(this)[0].classList.contains("thumbTypeimage")||f>=l.length||f>=a.maxAlts)&&b(this).remove()});h.isDefined(l)&&(b.each(l,function(c,k){if(f<a.maxAlts)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){f++;var l=b(".thumbItemUnrolled");
l[c]?l[c].querySelector("img").src=k.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+f+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+f+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+f+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+
k.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else h.createThumbnail({type:"image",index:c,thumbnailIndex:f,variant:k.variant,shoppableScene:k.shoppableScene},k.thumb,n,"imageThumbnail"),f++}),u.isEnabled&&L.logAltImgRequestPlacedOnThumbnails(b,u,p),M(n,c,f,k));return f}function t(f,c){a.useIV&&h.isDefined(c.hiRes)&&f.css("cursor","pointer")}function C(f,c){if("image"===f.type){var k=b("#image-canvas-caption #canvasCaption"),
l,d=a.staticStrings,g=a.colorImages,e=f.color,p=f.index;h.isShoppableScenesEnabled()&&f.shoppableScene?l=d.clickSceneTagsToShopProducts:c&&a.useIV?l=d.clickToExpand:g[e]&&g[e][p].hiRes&&a.useHoverZoom?(l=a.useHoverZoomIpad?d.touchToZoom:a.useClickZoom?d.clickToZoom:d.rollOverToZoom,a.hoverZoomIndicator&&(l="\x3cimg src\x3d'"+a.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+l)):a.useIV&&(l=d.clickToExpand);k.html(l)}}function B(f,c){return h.getIndexForVariant(f,c,a)}function I(f,c,b){var d=c.thumbnailIndex,
g=a.colorToAsin[c.color]&&a.colorToAsin[c.color].asin;c="altImageHover"===b&&v&&v.altImageIdx===d&&v.asin===g&&"swatchClick"===v.event?!0:"swatchHover"===b?v&&v.asin===g&&v.event===b:v&&v.altImageIdx===d&&v.asin===g&&v.event===b;if(!c){var h="#",e=f.find(".imgTagWrapper img").get(0);e&&(h=e.src);f=new Image;f.onload=function(){if(e){e.src=h;var a=e.width,c=e.height,f=e.naturalWidth,K=e.naturalHeight;try{var p=(Math.abs(a/f*K-c)/c).toFixed(2);.01<p&&(z.ue&&((("landing"!==b||k||l)&&"swatchClick"!==
b||z.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===b||"swatchClick"===b)?z.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==b||l?"altImageHover"!==b||k||(z.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),k=!0):(z.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),l=!0)),z.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},z.ueLogError("swatchHover"===b?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+
g+" Event:"+b+" Diff:"+p.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+g+" at altImageIdx "+d+" Event:"+b+" Diff:"+p.toString()+"]"},a)))}catch(n){z.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},z.ueLogError(n,a))}}};"#"!==h&&(f.src=h);v.altImageIdx=d;v.asin=g;v.event=b}}function y(c,l){var k="a-dynamic-image";if(!a.acEnabled){var d;b.each(c.main,function(c,f){h.isDefined(d)||(d=parseFloat(f[1]/f[0])<=parseFloat(a.holderRatio)?
" a-stretch-vertical":" a-stretch-horizontal")});k+=d}var g=h.getMaxDimensionsOfMainImage(c.main,S,a),e=g[0],p=g[1],g=b("\x3cdiv\x3e\x3c/div\x3e"),e={"max-height":e,"max-width":p};g.addClass(k).css(e).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:l}).data("a-dynamic-image",c.main);return g}function D(a,c,b){var k="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",k,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=Q.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
b.addClass("celwidget").attr("cel_widget_id",k);b.children("span").css("display","inline-block");x.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in z&&(new MutationObserver(function(b,k){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){q.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:c.shoppableScene})}),k.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",k,{wb:1});return b}function N(a,c,b){b=y(a,b);a=h.isShoppableScenesEnabled()&&a.shoppableScene?D(c,a,b):Q.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(b);Q.find(".list").append(a);q.loadImageManually(b);return a}function F(c){var b=S.css("height");null!==b&&c.find(".imgTagWrapper").css("height",b);c.addClass("selected");a.imgTagWrapperClasses&&c.find(".imgTagWrapper").addClass(a.imgTagWrapperClasses)}function g(a){if(a.isUserGenerated){var c=
p.getPreviousItem(),b=a.variant;h.isDefined(b)&&c.thumbnailIndex!==a.thumbnailIndex&&(u.isEnabled&&L.logAltImgRequestServed(u),H.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===b.indexOf("IG")&&(H.postCountMetric("IGImageSelectedVariant:"+b),H.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function c(c,d,e,n){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&!n&&"unavailable"!==c.type){if(c=a.colorImages&&a.colorImages[e],b(".unrolledImg").each(function(a){b(this).remove()}),
h.isDefined(c)&&(b.each(c,function(c,f){if(c<a.maxAlts){var k=b(".unrolledImg");k[c]?b(".unrolledImg #unrolledImgNo"+c+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+f.large+'" data-a-hires\x3d"'+f.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):c>=k.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(c+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
c+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+f.large+'" data-a-hires\x3d"'+f.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}}),q.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),e=h.isDefined(d)))H.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
d()}else if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){(e=h.isDefined(d))&&H.postCountMetric("mainImageUpdateOnTwisterVariationClick");n=h.getImageHash(c.color,c.index,a);if(-1===n)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},h.lazyLoadingRequired(c,p,a)||(x.dispatch("updateModel",d),h.showUnavailable(c.color)),-1;var r=Q.find(".item.itemNo"+c.thumbnailIndex);h.isjQueryObjDefined(r)||(r=N(n,c.thumbnailIndex,d),e?(l=k=!1,I(r,c,"swatchClick")):I(r,
c,"altImageHover"));F(r);x.dispatch("loadMagnifier");C(c);t(r,n);g(c);q.trigger("dp:image-block:update",n)}}function r(c){var b=Math.max(B(c.color,p.getCurrentItem().variant),0),b=h.getImageHash(c.color,b,a);if(-1===b)return h.lazyLoadingRequired(c,p,a)||h.showUnavailable(c.color),-1;var k=Q.find(".swatchHoverExp"),l=y(b);k.find(".imgTagWrapper").html(l);q.loadImageManually(l);H.postCountMetric("mainImageUpdateOnTwisterVariationHover");F(k);I(k,c,"swatchHover");q.trigger("dp:image-block:update",b)}
function T(c,k){h.lazyLoadingRequired(c,p,a)||(b("#imageBlock").css("opacity","1"),Q.css("opacity","1"),h.spinner(Q,!1),Q.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),h.hideUnavailable(),k&&Q.find(".list .item").remove())}function e(){var c=Q.find(".item .imgTagWrapper"),k=h.getContainerHeight(S,a.holderRatio,a.holderMaxHeight);0<k&&(S.height(k),c.height(k));Q.find("img.a-dynamic-image").each(function(){var c=b(this);c.data("a-manual-replacement")&&q.loadDynamicImage(this);
var k=c.data("a-dynamic-image"),k=h.getMaxDimensionsOfMainImage(k,S,a);c.css({"max-height":k[0]+"px","max-width":k[1]+"px"})})}function w(a){C(p.getCurrentItem(),"mouseenter"===a.type)}var m,a,p,x,G,A,n,Q,S,v={},J,R=null,k=!1,l=!1;q.on("triggerImageAjax",function(c){var b=p.getCurrentItem().color;a.colorImages[b]||(a.colorImages[b]=c);c={type:"updatedData",data:p.getCurrentItem()};x.dispatch("updateView",c);(b=a.colorToAsin[b])&&b.asin&&P.register(h.rankedImagesReadyEvent(b.asin))});return function(k,
l,d,g){m=this;a=k;p=l;x=g;a.colorImages[a.landingAsinColor]=a.colorImages[a.defaultColor];m.render=function(k,l,f,d,g,e,X,r){Q=2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment?f:b(".unrolledScrollBox");n=d;S=g;J=E(l,k,e);e?0===l&&I(Q.find(".item.itemNo0"),p.getCurrentItem(),"landing"):(l=p.getCurrentItem(),h.lazyLoadingRequired(l,p,a)&&x.dispatch("updateModel",{data:{type:"lazy-loaded"}}));T(p.getCurrentItem(),!e);2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment?
"swatchClick"===r&&a&&a.colorImages?(R=a.colorImages[k],c(p.getCurrentItem(),X,k,e)):"updatedData"===r&&a&&a.colorImages&&a.colorImages[k]!==R&&(R=a.colorImages[k],c(p.getCurrentItem(),X,k,e)):c(p.getCurrentItem(),X,k,e);return J};h.isImageBlockGridViewHoverDelayEnabled()?m.update=function(b){var k=b.data;p.setCurrentEvent(b);"ingress"!==k.type&&"swatchHover"!==b.type&&(p.setToPreviousItem(),"mouseenter"===b.type?(A&&clearTimeout(A),A=setTimeout(function(){p.setToCurrentItem(k);T(b.data,!1)},h.getHoveringDelayTimer())):
"mouseleave"===b.type?A&&clearTimeout(A):"click"===b.type&&(p.setToCurrentItem(k),T(b.data,!1)));"swatchHover"===b.type?("ingress"!==k.type&&T(b.data,!1),k.color===p.getCurrentItem().color?c(p.getCurrentItem(),null,k.color,!0):b.captured||-1===r(k)||(b.captured=!0)):"image"===k.type&&(k.interaction=b.type,k.isUserGenerated=!0,"mouseenter"===b.type?(H.postCountMetric("dpcc_imageThumbHovered_"+(k.thumbnailIndex+1)+"_"+J),G&&clearTimeout(G),G=setTimeout(function(){c(k,null,k.color,!0);a.usePeekHover||
h.selectGivenThumbnail(b.$declarativeParent,n)},h.getHoveringDelayTimer())):"mouseleave"===b.type?G&&clearTimeout(G):"click"===b.type&&(c(k,null,k.color,!0),h.selectGivenThumbnail(b.$declarativeParent,n),H.postCountMetric("dpcc_imageThumbClicked_total"),H.postCountMetric("dpcc_imageThumbClicked_"+(k.thumbnailIndex+1)+"_"+J)))}:m.update=function(b){var k=b.data;p.setCurrentEvent(b);"ingress"!==k.type&&T(b.data,!1);"swatchHover"===b.type?k.color===p.getCurrentItem().color?c(p.getCurrentItem(),null,
k.color,!0):b.captured||-1===r(k)||(b.captured=!0):"image"===k.type&&(k.interaction=b.type,k.isUserGenerated=!0,"mouseenter"===b.type&&H.postCountMetric("dpcc_imageThumbHovered_"+(k.thumbnailIndex+1)+"_"+J),c(k,null,k.color,!0),a.usePeekHover&&"click"!==b.type||(h.selectGivenThumbnail(b.$declarativeParent,n),"click"===b.type&&(H.postCountMetric("dpcc_imageThumbClicked_total"),H.postCountMetric("dpcc_imageThumbClicked_"+(k.thumbnailIndex+1)+"_"+J))))};a.overrideAltImageClickAction&&h.addTag("clickEnabledOnAltImages");
x.register("imageHover",w);x.register("resize",e)}});P.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(q,b,h,d){function z(d,g){var c=b("\x3cimg src\x3d'"+(g?y.staticImages.shoppableSceneDotHighlighted:y.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");c.css({display:g?"none":"inline-block"});c.addClass("mirai-scene-tag").addClass(g?"active-tag":"inactive-tag");return c}function u(d){var g=b("\x3cspan\x3e");q.each(d.tags,function(c){var d=b("\x3cdiv\x3e").css({position:"absolute",
left:100*c.left+"%",top:100*c.top+"%",height:"auto",width:"auto"});d.append(z(c,!1));d.append(z(c,!0));d.bind("mouseenter",function(){L(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});q.declarative.create(d,"scenes-show-details-tags-ib",{tagId:c.link});g.append(d)});return g.children()}function L(b){b.addClass("mirai-scene-dot-pulsate");q.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},4E3)}function M(b,d){b.css({display:"none"});d.css({display:"inline-block"})}function E(b,
d,c){b.eq(c).css({display:"inline-block"});d.eq(c).css({display:"none"})}function t(b){P.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){q.trigger("mirai:scene-details-change",{physicalId:b})})}function C(){var d=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),g=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",y.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),c=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
c.html(y.staticStrings.shoppableSceneViewProductsButton);return d.append(g).append(c)[0].outerHTML}function B(b){function g(){b.$tagPlaceholder.replaceWith(h);var a=h.find(".mirai-scene-tag.active-tag"),c=h.find(".mirai-scene-tag.inactive-tag");E(a,c,0);L(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));N=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+b.index,{wb:1});m=!0;d.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(b.shoppableScene){var c=b.$viewProductsButton.find(".a-button-text");if(0===c.children().length){c.append(C());q.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:b.shoppableScene.tags[0].link});var h=u(b.shoppableScene),t=h.find(".mirai-scene-tag.active-tag"),e=h.find(".mirai-scene-tag.inactive-tag"),w=b.shoppableScene.physicalId,m=!1;q.on("mirai:index:change",function(a){a.scenePhysicalId===w&&(a=a.selectedIndices[0],M(t,e),E(t,e,a),L(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),
N=!0)});q.on("mirai:scene-details-change",function(a){a.physicalId!==w||N||(M(t,e),E(t,e,0),L(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),N=!0)});q.on("mirai:no-products-active",function(a){a.scenePhysicalId===w&&M(t,e)});q.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===w&&(M(t,e),E(t,e,0))});q.on("a:image:load:shoppable-scene:"+b.index,function(){m||(g(),d.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});q.on("shoppable-scene-image-loaded",
function(a){a.index!=b.index||m||(g(),d.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});P.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){q.trigger("mirai:scene-side-sheet-init",{icons:y.staticImages,strings:y.staticStrings});q.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}var I,y,D,N=!1;return function(b,d,c,q){I=this;y=b;D=q;h.isShoppableScenesEnabled()?(D.register("initialize-shoppable-scene",
B),I.render=function(b,c,d,g,a,h,q){},I.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?t(b.data.shoppableScene.physicalId):N=!1)}):(b=function(){},I.render=b,I.update=b)}});P.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";P.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(q,b,h,d,H,u,L,M,E){function t(a){return null!==
a&&"undefined"!==typeof a}function C(a){var c=0;b.each(a,function(a,b){var k=parseInt(b[1],10);k>c&&(c=k)});return c}function B(a){var c=0;b.each(a,function(a,b){var k=parseInt(b[0],10);k>c&&(c=k)});return c}function I(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=C(a);0<a&&(b=Math.min(b,a));return b}function y(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=B(a);0<a&&(b=Math.min(b,a));return b}function D(a){var c;b.each(a,function(a,b){t(c)||(c=b[1]/b[0])});return c||1}function N(a,
c,f,e,n,q,u,G,r,t,m,v,X,w){var Y=b.extend({},f.foresterMetadataParams);null!==e&&(Y.method+="."+e);var A=[];c.disabledViewIds&&(A=c.disabledViewIds);var ea="black";"unrolled-video-add"===w&&(ea="transparent");return h.embed({parentElement:a[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:f.swfUrl,foresterMetadataParams:Y,backgroundColor:ea,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},
videoAds:f.videoAds,bindings:{play:function(){if("ImmersiveView"===e)p||(p=!0,d.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(x||(x=!0,d.postCountMetric("dppc_chromefulVideoPlayedPV")),!t){var a=d.buildNexusMetric("ib.thumbnailClick",r,c.mediaObjectId,c.groupType,m,v,X);d.emitNexusMetric(a)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,b,c){n&&(F(0,q,G),g(u))}}],disabledViewIds:A})}function F(a,b,f){b.fadeTo(500,0,function(){c(a,f);b.fadeTo(500,1)})}function g(a){a&&
a.toggle()}function c(a,c){var f=c.find("img");t(f[a])&&b(f[a]).click()}function r(a,b){n[a]=b?b:n[a];return n[a]}function P(a,c,f){f=f||A;f=f.colorImages;if(1>f.length||!t(f[a])||!t(c))return-1;var d=-1;b.each(f[a],function(a,b){b.variant===c&&(d=a)});return d}function e(a,c,f){f=f||A;f=f.colorImages;return!(t(f)&&t(f[a])&&t(f[a][c])&&t(f[a][c].main))||1>b.map(f[a][c].main,function(a,b){return b}).length?-1:f[a][c]}function w(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",
b/a*100+"%"):d.css("height",a/b*100+"%"))}function m(a,c){var f;if(f=a.useIV)f=a.colorImages&&a.colorImages[c]&&0<a.colorImages[c].length?!0:!1;L.isEnabled&&(L.IVApplicaple=f,M.logImmersiveViewApplicability(b,L));return f}function a(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||0<b(".gridImageBlockViewLayoutIn1x7").length}var p,x,G,A=b.extend(!0,{},H,u),n={},Q=0,S=0,v=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,J={},R={};return{isDefined:t,isDefinedAndEmpty:function(a){return t(a)&&
"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return t(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return t(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:D,getMaxHeightOfMainImage:y,getMaxWidthOfMainImage:I,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=y(a,b,c);b=I(a,b,c);a=D(a);c=b/a;b=Math.min(b,d*a);
d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(t(d)){a=d.offsetWidth/b;a=Math.min(a,c);var g;b=A.mainImageHeightPartitions;c=A.mainImageMaxSizes;if(t(c)&&t(b)){for(var e=0,h=z.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)h>b[d]&&(e=d+1);c.length>=e&&(g=c[e])}t(g)&&(a=Math.min(g[1],a))}return a},getColorFromState:function(a,c){if(a){c=c||A;var d="";b.each(c.visualDimensions,function(b,c){a[c]&&(d+=" "+a[c])});
return d&&d.substring(1)}},createThumbnail:function(b,c,d,g){var e=d.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=c;e.find(".placeHolder").replaceWith(h);(c=b.heroVideoVariant)&&"hero-image"===b.type&&b.variant===c&&e.addClass("heroImageThumbnail");t(g)&&e.addClass(g);a()&&e&&(g=document.createElement("div"),g.className="imageBlockThumbnailImageGrayOverlay",h.parentNode.insertBefore(g,h));q.declarative.create(e,"thumb-action",b);e.attr&&
(e.attr("data-ux-click",""),b.type&&b.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover")),e.attr("data-csa-c-posy",b.thumbnailIndex+1));d.append(e)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,d,g,e,h,n){N(a,b,c,d,g,e,h,n,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:N,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(G={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(G)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?
a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(a){a&&(b("#imageBlock .unvailableVariation").html(a),b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:F,toggleVideoCaption:g,
selectThumbnail:c,spinner:function(a,c){var d=b("#imageBlock .a-spinner").parent();0===d.length&&(d=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));
c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:r,getIndexForVariant:P,getImageHash:e,lazyLoadingRequired:function(a,b,c){b=Math.max(P(a.color,b.getCurrentItem().variant,c),0);b=-1!==e(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==r(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:w,repositionVideoBanner:function(a,
b,c,d){setTimeout(function(){var c=a.width()/a.height();w(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!t(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return t(a)&&t(a[b])&&t(a[b].url)?a[b]:-1},isImmersiveViewEnabled:m,playVideoInImmersiveView:function(a,b){return m(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},
getMediaSourceInfo:function(){return t(G)?G.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){z.ue&&z.ue.tag&&z.ue.tag(a)},isShoppableScenesEnabled:function(){return E.isEnabled&&0<b(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:a,
isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return Q},updateThumbnailHoverDelay:function(a){if(t(a)){Q=0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=S;a=a.closest("ul").attr("class");a===Z?c=!1:(a=v.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&
(Q=100);S=b}}},setDimensionIngressData:function(a,b,c){J[a]=b;R[a]=c},isDimensionIngressEnabled:function(a){return!!J[a]},getDimensionVariantList:function(a){return R[a]}}});"use strict";P.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(q,b,h,d,H,u,L){function M(c,f,g,e){!a.autoplayVideo||da||a.useChromelessVideoPlayer?!d.isjQueryObjDefined(c.find(".a-button-selected"))&&(g=p.getCurrentItem(),!e||a.prioritizeVideos||
"chromeless-video"===g.type&&a.autoplayVideo)&&(e=d.getVideoHash(g.color,0,a),-1===e||g.thumbnailIndex>=a.maxAlts-1||(f+=0,x.dispatch("updateModel",{data:{index:0,thumbnailIndex:f,variant:e.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),f=c.find(".item").get(f),d.selectGivenThumbnail(b(f),c))):(d.selectGivenThumbnail(c.find("img:last"),c),d.fadeToThumbnail(c.find("img").length-1,Q,c))}function E(b){var c=p.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[c]){var f=
function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",data:p.getCurrentItem()};x.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?f():P.when(d.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){f()})}}function t(b){b&&(a.notShowVideoCount=b,b={type:"updatedData",data:p.getCurrentItem()},x.dispatch("updateView",b))}function C(b){if(!a.useChildVideos)return d.lazyLoadingRequired(p.getCurrentItem(),p,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var c=
a.colorToAsin[b];if(c&&c.asin){var f={};f.params={asin:c.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(f.success=function(a){E(a)},H.load("/gp/product/features/apparel-main-image/videos.html",f));return a.colorToVideo&&a.colorToVideo[b]}}function B(b){v&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(v.hide(),A.parent().css("z-index",-1),n.hide(),A.siblings(".ive-creator-profile").addClass("aok-hidden"))}
function I(){x.dispatch("selectThumbnail",d.useTabbedImmersiveView(a)?1:0)}function y(a,c,f,g){return h.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:a[0],streamingUrls:c.url,swfUrl:f.swfUrl,foresterMetadataParams:f.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var b=d.isjQueryObjDefined(a.find("video"))?"HTML5":"FLASH";u.postCountMetric("dppc_chromelessVideo:"+b)},playing:function(){a.parent().css("z-index",
8)},videounsupported:function(){I();u.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){I();u.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){v.seek(0)}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(c,d,f){c=f.durationSeconds-f.playheadTimeSeconds;a.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*c,.1,function(){a.parent().css({"background-color":"transparent","z-index":-1});I();b(this).show().css("opacity",
1)})}}]})}function D(a,b){a.css("width","");b.css("width","");b.removeClass("profileWrapper")}function N(b){b&&(a.enableS2WithoutS1=b,b={type:"updatedData",data:p.getCurrentItem()},x.dispatch("updateView",b))}function F(c,g){if("chromeful-video"===c.type||"chromeless-video"===c.type||"unrolled-video-add"===g){var e=d.getVideoHash(c.color,c.index,a);if(-1===e)return-1;if("chromeful-video"===c.type)a:{var h=c.thumbnailIndex+1,k=Q.width()/Q.height(),r=parseInt(e.videoWidth,10),t=parseInt(e.videoHeight,
10);d.updateAspectRatio(k,r,t,A);if(v&&"unrolled-video-add"!==g)v.show(),d.loadMediaIntoAiry(v,e,J,a.tabletWeb);else if(a.tabletWeb)v=l;else if(v=d.createAiryInstanceForChromefulNotUseTabbedImmersiveView(A,e,J,null,a.autoplayVideo,Q,n,G,h,a.useTabbedImmersiveView,K,f,O,g),"unrolled-video-add"===g){v.show();d.loadMediaIntoAiry(v,e,J,a.tabletWeb);break a}b:if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(d.useTabbedImmersiveView(a)){if(1<d.getVideosCount(p.getCurrentItem().color,
a)){if(d.isDefined(S)){n.show();break b}S=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.watchMoreVideos);n.find("#videoCaption").append(S);q.declarative.create(S,"videoIngressClick",R)}d.playVideoInImmersiveView(a,p.getCurrentItem().color)&&(q.declarative.create(A,"videoIngressClick",R),A.attr&&A.attr("data-ux-click",""),A.children().css("z-index","-1"),A.css("display","inline-block"))}else n.find("#videoCaption").text(a.staticStrings.playVideo),n.show();h=
v;a.autoplayVideo&&h&&!da&&(d.toggleVideoCaption(n),h.setVolume(0),h.show(),h.play(),da=!0);try{var m=b("#video-outer-container").find(".ive-creator-profile");if(!(e&&a.enableS2WithoutS1&&e.creatorProfile&&"IB_G2"===e.groupType&&m))m.addClass("aok-hidden");else if(1===m.length){m.removeClass("aok-hidden");var w=m.find(".a-profile-content .a-profile-name");0<w.length&&w.html(e.title);var x=m.find(".a-profile-content .a-profile-descriptor");0<x.length&&x.html(e.creatorProfile.publicName);var z=m.find(".a-profile-avatar img");
0<z.length&&z.attr("src",e.creatorProfile.url);m.attr("href",e.creatorProfile.profileLink+"?ref\x3dive_mb_profile");d.isImageBlockGridViewDisplayEnabled()&&m.css("padding-left","0px")}}catch(H){u.postCountMetric("update_creator_profile_data_error")}m=A;e=e.groupType;try{var B=m.siblings(".ive-creator-profile"),C=m.siblings("#video-canvas-caption"),E=m.parent();if("IB_G2"!==e)D(m,B);else if(E.addClass("videoContainerWrapperCenter"),m.addClass("videoCenterWrapper"),0!==t&&0!==r)if(r/=t,k>r)try{if(1===
B.length){var F=B.height(),L=1===C.length?C.height():0;if(L?L+F:F)B.addClass("profileWrapper"),B.css("width",r/k*100+"%"),m.css("height","")}}catch(I){u.postCountMetric("adjust_creator_profileWidth_function_error")}else D(m,B)}catch(M){u.postCountMetric("update_max_height_error")}}else if(v&&"unrolled-video-add"!==g)v.show(),d.loadMediaIntoAiry(v,e,J,a.tabletWeb),v.play(),n.show();else if(v=y(A,e,J))"unrolled-video-add"===g&&(v.show(),d.loadMediaIntoAiry(v,e,J,a.tabletWeb)),v.play()}}function g(e,
g,h){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&h)return e;var k=C(g);g=e;var l=b(".unrolledImg"),n=d.isDefined(k)&&0<k.length&&a.alwaysIncludeVideo?1:0;d.isDefined(k)&&0<k.length&&!a.alwaysIncludeVideo&&e===a.maxAlts&&u.postCountMetric("IBVideoDrop");l.length>a.maxAlts&&l.each(function(c){c>=a.maxAlts&&b(this).remove()});n&&e===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):
G.find(".item:last").remove(),e--);d.isDefined(k)&&(b.each(k,function(g,h){if(e<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var l=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+l+" thumbIndex"+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+e+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
e+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+e+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+h.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+e+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+e+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
e+'" class\x3d"videoIndex'+g+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||c(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{var l=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",n={type:l,index:g,thumbnailIndex:e,variant:h.variant};R={type:"video-ingress",index:g,thumbnailIndex:e,variant:h.variant};d.useTabbedImmersiveView(a)&&("chromeful-video"===
l&&(ba+=" videoBlockIngress  videoBlockDarkIngress",h.thumb=h.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(ba+=" a-align-top"));d.isImageBlockGridViewDisplayEnabled()&&(ba+=" videoImageBlockGridView");d.createThumbnail(n,h.thumb,G,ba);2===a.dp60VideoPosition&&c(G,a.dp60VideoPosition);if(d.useTabbedImmersiveView(a)){r(G.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL);var n=1<k.length?"multiple-videos":"one-video",m=!0===a.notShowVideoCount?a.staticStrings.multipleVideos:
1<k.length?k.length+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo;m&&G.find(".videoBlockIngress").append(G.find("#videoCount_template").clone().text(m).attr("id","videoCount")).addClass(n)}n=u.buildNexusMetric("ib.thumbnailImpression",e+1,h.mediaObjectId,h.groupType,K,f,O,U);u.emitNexusMetric(n);n=u.buildNexusMetric("ib.thumbnailRender",e+1,h.mediaObjectId,h.groupType,K,f,O,U);u.emitNexusMetric(n);Z||(Z=!0,u.postCountMetric("chromeless-video"===l?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}e++}if(d.useTabbedImmersiveView(a))return!1}),
M(G,g,e,h),a.imageBlockRenderingStartTime&&u.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",q.now()-a.imageBlockRenderingStartTime));return e}function c(c,d){if(0!==d)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var e=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=c.children(".thumbTypeimage"),e=c.children(".thumbType"+e);f&&e&&f[d-1]&&b(f[d-1]).before(e[0]);e=b(".unrolledScrollBox .list-unrolled");f=e.children(".unrolledImg.imgMedia");
e=e.children(".unrolledImg.videoMedia");f&&e&&f[d-1]&&b(f[d-1]).before(e[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(c=d);null!==c&&b(this).removeClass(this.classList[c]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else f=c.children(".imageThumbnail"),e=c.children(".videoBlockIngress"),f&&e&&f[d-1]&&b(f[d-1]).before(e[0])}function r(a,b){var c=
a.attr("src");if(c&&b){a.attr("src",b);var d=new Image;d.onload=function(b){a.attr("src",c)};d.src=c}}function T(b){v&&v.pause();b.data=R;b.clickTimeStamp=b.$event.timeStamp;var c="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";x.dispatch("imageClick",b);u.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=u.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+1,a.videos[0].mediaObjectId,a.videos[0].groupType,K,f,O,U);u.emitNexusMetric(b);u.postCountMetric(c)}
function e(a){l=a.player;l.hide=function(){l.pause();q.$("#main-video-container").find(".vse-player-container").hide()};l.show=function(){q.$("#main-video-container").find(".vse-player-container").show();l.play()};l.getMediaSourceInfo=function(){return d.getMediaSourceInfo()}}function w(c,e,g,h,k,l){B(l);A=null!==l?b("#unrolledImgNo"+l.thumbnailIndex):h.find("#main-video-container");n=null!==l?"":A.parent().find("#video-canvas-caption");Q=null!==l?b(".unrolledScrollBox"):b("#main-image-container");
null===l&&d.isImageBlockGridViewDisplayEnabled()&&(A.addClass("videoCenter"),h.find("#video-outer-container").addClass("videoWrapperCenter"));K=z.location.href;c=p.getCurrentItem().color;!0===k?f=a.mediaAsin:(f=a.colorToAsin[c]&&a.colorToAsin[c].asin,f=d.isDefined(f)?f:a.mediaAsin);a.useChromelessVideoPlayer||A.addClass("chromeful-container");null!==l?F(l,"unrolled-video-add"):F(p.getCurrentItem(),"");d.useTabbedImmersiveView(a)&&q.declarative("videoIngressClick",["click"],T);c=p.getCurrentItem().color;
k=d.getVideoHash(c,0,a);-1!==k&&a.tabletWeb&&(k=d.getNilgiriServiceAjaxRequest(a,c,k),L.get(q,"#main-video-container",k,function(){q.$("#main-video-container").find(".vse-player-container").hide()},function(){q.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}var m,a,p,x,G,A,n,Q,S,v,J,R,k,l,f,K,O,U,V,ca,W,Z=!1,da=!1,ba="videoThumbnail";return function(c,h,l,n){m=this;a=c;p=h;x=n;J=a.airyConfig;O=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=
a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(V="tablet",U="applicationType.ImageBlock.vse_ib_tablet_web"):q.capabilities.tablet?(V="tablet",q.capabilities.isAmazonApp&&(U="applicationType.ImageBlock.vse_ib_tablet_app")):(V="desktop",U="desktop_web.ImageBlock.vse_ib_iv");m.render=function(c,d,e,f,h,l){var n=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){G=b("ul.regularAltImageViewLayout");k=g(d,c,l);n=[];d=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||
this.classList.contains("thumbTypechromeless-video")});for(var m=0;m<d.length;m++){var p=d[m].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",r=Number(d[m].classList[2].slice(10)),q=b(".thumbItemUnrolled").index(d[m]);n.push({color:c,thumbnailIndex:q,type:p,varient:"MAIN",index:r})}for(m=0;m<n.length;m++)w(c,e,f,h,l,n[m])}else G=f,k=g(d,c,l),w(c,e,f,h,l,null);return k};d.isImageBlockGridViewHoverDelayEnabled()?m.update=function(b){var c=b.data;"ingress"===c.type||
"swatchHover"===b.type||d.lazyLoadingRequired(c,p,a)||(p.setToPreviousItem(),"mouseenter"===b.type?(W&&clearTimeout(W),W=setTimeout(function(){p.setToCurrentItem(c);B(null)},d.getHoveringDelayTimer())):"mouseleave"===b.type?W&&clearTimeout(W):"click"===b.type&&(p.setToCurrentItem(c),B(null)));if("swatchHover"===b.type)"ingress"===c.type||d.lazyLoadingRequired(c,p,a)||B(null),c.color===p.getCurrentItem().color?F(p.getCurrentItem(),""):b.captured||d.lazyLoadingRequired(c,p,a)&&!d.lazyLoadOnHoverEnabled(a)&&
F(p.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=d.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(u.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+k),"chromeless-video"===c.type&&(e=u.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,K,f,O,U),u.emitNexusMetric(e)),ca&&clearTimeout(ca),ca=setTimeout(function(){F(c,"");!a.usePeekHover&&q.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&
d.selectGivenThumbnail(b.$declarativeParent,G)},d.getHoveringDelayTimer())):"mouseleave"===b.type?ca&&clearTimeout(ca):"click"===b.type&&(F(c,""),q.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(d.selectGivenThumbnail(b.$declarativeParent,G),e=u.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,K,f,O,U),(!d.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==V)&&u.emitNexusMetric(e),d.useTabbedImmersiveView(a)&&(u.emitNexusMetric(e),
u.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+k),R.action="videoIngressClick",R.clickTimeStamp=b.$event.timeStamp,R.$event=b.$event,R.$currentTarget=b.$currentTarget,x.dispatch("videoIngressClick",R),u.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:m.update=function(b){var c=b.data;"ingress"===c.type||d.lazyLoadingRequired(c,p,a)||B(null);if("swatchHover"===b.type)c.color===p.getCurrentItem().color?F(p.getCurrentItem(),""):b.captured||d.lazyLoadingRequired(c,
p,a)&&!d.lazyLoadOnHoverEnabled(a)&&F(p.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=d.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type&&(u.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+k),"chromeless-video"===c.type)){var g=u.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,K,f,O,U);u.emitNexusMetric(g)}F(c,"");a.usePeekHover&&"click"!==b.type||!q.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||
(d.selectGivenThumbnail(b.$declarativeParent,G),"click"===b.type&&(e=u.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,K,f,O,U),(!d.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==V)&&u.emitNexusMetric(e),d.useTabbedImmersiveView(a)&&(u.emitNexusMetric(e),u.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+k),R.action="videoIngressClick",R.clickTimeStamp=b.$event.timeStamp,R.$event=b.$event,R.$currentTarget=b.$currentTarget,x.dispatch("videoIngressClick",
R),u.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};a.isDPXFeatureEnabled&&(q.on("triggerVideoAjax",E),q.on("notShowVideoCountAjax",t),q.on("enableS2WithoutS1Ajax",N));q.on("vsePlayer-imageblock_tablet",e)}});"use strict";P.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(q,b){function h(b,d,h,M,E){function t(b){"click"===b.type&&M.postCountMetric("thumbClick");"click"===b.type&&m.overrideAltImageClickAction?a.dispatch("thumbActionClick",b):a.dispatch("updateSelection",
b)}function C(b){m.useClickZoom||a.dispatch("imageClick",b)}function B(b){m.useClickZoom||a.dispatch("imageHover",b)}function I(b){a.dispatch("button360Click",b)}function y(a){!h.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(w.update(a),"swatchHover"!==a.type&&p.getPreviousItem().thumbnailIndex!==a.data.thumbnailIndex&&M.postCountMetric(a.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",a.data)):(w.render(a.data.color,!1,a.onload,a.type),a={hasComponents:!0,
components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof z.markFeatureRender&&z.markFeatureRender("imageblock",a))}function D(b){a.dispatch("resize",b)}function N(a){h.selectThumbnail(a,x)}function F(){if("function"===typeof z.markFeatureInteractive){var a=[],b=[];m.interactiveCallJSPEnabled?(a=["scroll"],b=["click"]):(a=["hover"],b=["click","hover"]);z.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:a,alwaysInteractive:!0},{name:"thumbnail",
events:b,alwaysInteractive:!0}]})}}function g(){"function"===typeof z.markFeatureInteractive&&z.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function c(){if(!m.interactiveCallJSPEnabled||q.useIV)F(),1===q.useIV?P.when("a-modal").execute(function(){g()}):g();m.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],t);b.declarative("thumb-action",["click"],t);b.declarative("main-image-click",
["click"],C);b.declarative("main-image-click",["mouseenter","mouseleave"],B);b.declarative("button-360-click",["click"],I);b.on("resize",D)}function r(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function T(a){var b=p.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}function e(a){h.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&h.updateThumbnailHoverDelay(a.$target)}var w,m,a,p,x;return function(b,g,h){w=this;m=b;a=g;p=h;x=d("#imageBlock #altImages ul");
var q=d("#imageBlock .canvas"),t=d("#main-image-container"),v;w.subViews=[];for(g=0;g<E.length;g++)w.subViews.push(new E[g](b,h,w,a));w.render=function(a,b,c,e){var f=0;x.find(".item").remove();a=a||p.getCurrentItem().color;d.each(w.subViews,function(d,g){f=(2===m.unrolledImageBlockTreatment||3===m.unrolledImageBlockTreatment?g.render(a,f,q,x,t,b,c,e):g.render(a,f,q,x,t,b,c))||f});var g=x.find(".a-button-selected").closest(".a-declarative");v=T(g)};w.init=function(){x=d("#imageBlock #altImages ul");
var b=x.find(".a-button-selected").closest(".a-declarative"),e=b.data("action"),b=b.data(e)||{};b.color=m.landingAsinColor||m.defaultColor;a.dispatch("updateModel",{data:b});w.render(b.color,!0);m.isDebug&&z.console&&console.log(m);a.register("updateView",y);a.register("selectThumbnail",N);c()};w.update=function(b){e(b);d.each(w.subViews,function(a,c){c.update(b)});m.usePeekHover&&("mouseleave"===b.type?a.dispatch("updateSelection",v):"click"===b.type&&(v=r(b)||v))}}}var d=["A","jQuery","imageBlockUtils",
"postMetric"].concat(q.views);P.when.apply(P,d).register("ImageBlockView",function(){for(var b=arguments[0],d=arguments[1],q=arguments[2],z=arguments[3],E=[],t=4,C=arguments.length;t<C;t++)E.push(arguments[t]);return h(b,d,q,z,E)})})});
/* ******** */
(function(F){var t=window.AmazonUIPageJS||window.P,U=t._namespace||t.attributeErrors,e=U?U("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):t;e.guardFatal?e.guardFatal(F)(e,window):e.execute(function(){F(e,window)})})(function(F,t,U){F.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(e,a,b,r,h){function ka(d,b){var v=a(d+" image").attr("data");a(d+" image")[0].setAttribute("href",
v);var c=new Image;c.src=v;c.onload=function(){b(this.width/this.height)}}function w(d){null!=a(d.euclidSvg)&&0!==a(d.euclidSvg).length&&(new Promise(function(a,b){ka(d.euclidSvg,a)})).then(function(b){var v,c,n,f,e,G,g,aa,m,q,p,r,k,oa,y,P,Ba,H,w,ja,E,A,C,D,x,ka,L,J,K,N,O,Q,R,S,T,V,W,Z,U,Ha,Ia,va,ga;if(null===a(d.featureDiv)||0===a(d.featureDiv).length||0>=b)ga=null;else{var Da=a(d.featureDiv).width(),Ja=a(d.featureDiv).height(),wa=2*(16+u(d.euclidHeightText,d.numberSpace)+10),pa=Da-wa,qb=a(d.euclidHeightLine).data("euclid-height-startx");
0>qb?wa+=pa*Math.abs(qb)*2:1<qb&&(wa+=pa*(qb-1)*2);pa=Da-wa;0>pa&&(wa=152);var Kb=a(d.euclidWidthLine).data("euclid-width-starty"),Lb=1<Kb?Ja*(Kb-1)+50:50,rb=Ja-Lb;if(pa/rb>b)var Mb=rb*b,Nb=rb,Ob=rb*b+wa,Pb=Ja;else Mb=pa,Nb=pa/b,Ob=Da,Pb=pa/b+Lb;ga={imageWidth:Mb,imageHeight:Nb,svgWidth:Ob,svgHeight:Pb}}if("undefined"===typeof ga||null===ga||10>=ga.imageWidth||10>=ga.imageHeight||10>=ga.svgWidth||10>=ga.svgHeight)h.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var xa=ga,Y=d.euclidSvg;
a(Y+" image").attr("width",xa.imageWidth);a(Y+" image").attr("height",xa.imageHeight);a(Y).attr("width",xa.svgWidth);a(Y).attr("height",xa.svgHeight);var uc=(xa.svgWidth-xa.imageWidth)/2;a(Y+" image")[0].setAttribute("x",uc);a(Y+" image")[0].setAttribute("y",10);var $a=xa.imageWidth,ab=xa.imageHeight,z=(xa.svgWidth-xa.imageWidth)/2,Ka=a(d.euclidLengthLine).data("euclid-length-startx")*$a,La=a(d.euclidLengthLine).data("euclid-length-starty")*ab,Ma=a(d.euclidLengthLine).data("euclid-length-endx")*$a,
Na=a(d.euclidLengthLine).data("euclid-length-endy")*ab,Oa=a(d.euclidWidthLine).data("euclid-width-startx")*$a,Pa=a(d.euclidWidthLine).data("euclid-width-starty")*ab,Qa=a(d.euclidWidthLine).data("euclid-width-endx")*$a,Ra=a(d.euclidWidthLine).data("euclid-width-endy")*ab,bb=a(d.euclidHeightLine).data("euclid-height-startx")*$a,cb=a(d.euclidHeightLine).data("euclid-height-starty")*ab,db=a(d.euclidHeightLine).data("euclid-height-endx")*$a,eb=a(d.euclidHeightLine).data("euclid-height-endy")*ab,Qb=(Ra-
Pa)/(Qa-Oa),Rb=0>=Qb?"leftInclined":"rightInclined",sb=1/Qb,ha=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(sb,2)))),qa=0===ha?16:Math.abs(sb*ha),ya=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(sb,2)))),Ea=0===ya?3:Math.abs(sb*ya),Sb=(Na-La)/(Ma-Ka),tb=1/Sb,ia=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(tb,2)))),ra=0===ia?16:Math.abs(tb*ia),za=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(tb,2)))),Fa=0===za?3:Math.abs(tb*za),Tb=0>=Sb?"leftInclined":"rightInclined";if(.5<a(d.euclidHeightLine).data("euclid-height-startx")){var ub=
bb+z+16,vb=cb+10,wb=db+z+16,xb=eb+10,Ub=bb+z+16-3,Vb=cb+10,Wb=bb+z+16+3,Xb=cb+10,Yb=db+z+16-3,Zb=eb+10,$b=db+z+16+3,ac=eb+10,bc=(ub+wb)/2+5,cc=(vb+xb)/2+8,Sa=Qa+z+ha,Ta=Ra+qa+10,Ua=Oa+z+ha,Va=Pa+qa+10,dc=Qa+z+ha-ya,ec=Ra+qa-Ea+10,fc=Qa+z+ha+ya,gc=Ra+qa+Ea+10,hc=Oa+z+ha-ya,ic=Pa+qa-Ea+10,jc=Oa+z+ha+ya,kc=Pa+qa+Ea+10,lb=(Sa+Ua)/2,mb=(Ta+Va)/2+15;"leftInclined"===Rb?(lb=(Sa+Ua)/2,mb=(Ta+Va)/2+15):(lb=(Sa+Ua)/2+5,mb=(Ta+Va)/2);var fb=Ka+z-ia,gb=La+ra+10,hb=Ma+z-ia,ib=Na+ra+10,lc=Ka+z-ia-za,mc=La+ra+Fa+
10,nc=Ka+z-ia+za,oc=La+ra-Fa+10,pc=Ma+z-ia-za,qc=Na+ra+Fa+10,rc=Ma+z-ia+za,sc=Na+ra-Fa+10,vc=u(d.euclidLengthText,d.numberSpace);if("leftInclined"===Tb)var yb=(fb+hb)/2,zb=(gb+ib)/2+15;else yb=(fb+hb)/2-vc,zb=(gb+ib)/2+15}else{var ub=bb+z-16,vb=cb+10,wb=db+z-16,xb=eb+10,Ub=bb+z-16-3,Vb=cb+10,Wb=bb+z-16+3,Xb=cb+10,Yb=db+z-16-3,Zb=eb+10,$b=db+z-16+3,ac=eb+10,wc=u(d.euclidHeightText,d.numberSpace),bc=(ub+wb)/2-wc-3,cc=(vb+xb)/2+8,Sa=Qa+z-ha,Ta=Ra+qa+10,Ua=Oa+z-ha,Va=Pa+qa+10,dc=Qa+z-ha-ya,ec=Ra+qa+Ea+
10,fc=Qa+z-ha+ya,gc=Ra+qa-Ea+10,hc=Oa+z-ha-ya,ic=Pa+qa+Ea+10,jc=Oa+z-ha+ya,kc=Pa+qa-Ea+10,tc=u(d.euclidWidthText,d.numberSpace);"leftInclined"===Rb?(lb=(Sa+Ua)/2-tc,mb=(Ta+Va)/2):(lb=(Sa+Ua)/2-tc,mb=(Ta+Va)/2+15);fb=Ka+z+ia;gb=La+ra+10;hb=Ma+z+ia;ib=Na+ra+10;lc=Ka+z+ia+za;mc=La+ra+Fa+10;nc=Ka+z+ia-za;oc=La+ra-Fa+10;pc=Ma+z+ia+za;qc=Na+ra+Fa+10;rc=Ma+z+ia-za;sc=Na+ra-Fa+10;"leftInclined"===Tb?(yb=(fb+hb)/2,zb=(gb+ib)/2+15):(yb=(fb+hb)/2+15,zb=(gb+ib)/2)}v=fb;c=gb;n=hb;f=ib;e=lc;G=mc;g=nc;aa=oc;m=pc;
q=qc;p=rc;r=sc;k=yb;oa=zb;y=Sa;P=Ta;Ba=Ua;H=Va;w=dc;ja=ec;E=fc;A=gc;C=hc;D=ic;x=jc;ka=kc;L=lb;J=mb;K=ub;N=vb;O=wb;Q=xb;R=Ub;S=Vb;T=Wb;V=Xb;W=Yb;Z=Zb;U=$b;Ha=ac;Ia=bc;va=cc;I(Y+" .hit-pd-euclid-height-line",K,N,O,Q);I(Y+" .hit-pd-euclid-height-start",R,S,T,V);I(Y+" .hit-pd-euclid-height-end",W,Z,U,Ha);t(Y+" .hit-pd-euclid-height-text",Ia,va);I(Y+" .hit-pd-euclid-width-line",y,P,Ba,H);I(Y+" .hit-pd-euclid-width-start",w,ja,E,A);I(Y+" .hit-pd-euclid-width-end",C,D,x,ka);t(Y+" .hit-pd-euclid-width-text",
L,J);I(Y+" .hit-pd-euclid-length-line",v,c,n,f);I(Y+" .hit-pd-euclid-length-start",e,G,g,aa);I(Y+" .hit-pd-euclid-length-end",m,q,p,r);t(Y+" .hit-pd-euclid-length-text",k,oa);d===ba&&"dimension-ingress-image"===B.getCurrentItem().type?(F(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),h.postTimeMetric("dppc_loadDimensionHeroTime",
Date.now()-l)):d===ca&&(a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").removeClass("aok-hidden"),a("ivDimensionTab").css("display","block"),h.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-M))}})}function u(d,b){return a(d).text().replace(/[^0-9]/g,"").length*b+5}function I(d,b,v,c,n){d=a(d)[0];d!==U&&null!==d&&(d.setAttribute("x1",b),d.setAttribute("y1",v),d.setAttribute("x2",c),d.setAttribute("y2",n))}function t(d,b,v){var c=a(d)[0];c!==U&&null!==c&&(c.setAttribute("x",
b),c.setAttribute("y",v),d=a(d+" tspan"),d!==U&&null!==d&&2===d.length&&(d[0].setAttribute("x",b),d[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),d[1].setAttribute("x",b),d[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function Q(d){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length)if(d=
J(d),d in p)p[d].clone().appendTo(a("#imageBlock #main-image-container"));else{var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(b.clone().appendTo(a("#imageBlock #main-image-container")),p[d]=b):V(d)}w(ba)}}function V(d){try{setTimeout(function(){K++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(d in p||(p[d]=b),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&
b.clone().appendTo(a("#imageBlock #main-image-container")),w(ba)):100>K&&V(d)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+b)}}function N(){a("#image-canvas-caption #canvasCaption").html(m.dimensionIngressAtfData.initial.heroImageCaption)}function J(a){return R(a.color)}function R(a){a=m.colorToAsin[a].asin;a||(a=m.mediaAsin);return a}function S(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
-1)}function F(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)}function W(a,v){m.usePeekHover&&"click"!==v.type||b.selectGivenThumbnail(v.$declarativeParent,a)}function Z(a){a.action="dimensionIngressClick";a.data=O;A.dispatch("dimensionIngressClick",a)}function D(){M=Date.now();if(L&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var b=
J(B.getCurrentItem()),v=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),v=a("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",v);b in p?p[b].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(v=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),v.length?(v.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),p[b]=v):c(b));r.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),
160,m);r.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));ja();L=!1}f()}function f(){G=a("#ivDimensionTab").height();if(0!==G){r.detachImmersiveViewResizeHandler(D);var b=a("#ivDimensionTab #ivMainDimensions"),v=a("#ivDimensionTab").height(),c=a("#ivDimensionTab").width();b.css("height",v);b.css("width",c);var c=b.find("#ivTitleDimensions").outerHeight(!0),f=b.find("#ivVariationSelectionDimensions").outerHeight(!0),n=b.find("#ivThumbsDimensions"),
h=r.getDimension(n,"margin-top")+r.getDimension(n,"margin-bottom");n.css("height",v-c-f-h);c=b.find("#ivStageDimensions");b=(b[0]&&b[0].getBoundingClientRect&&Math.floor(b[0].getBoundingClientRect().width)||b.width())-r.getDimension(b,"padding-left")-r.getDimension(b,"padding-right")-b.find("#ivThumbColumnDimensions").width()-r.getDimension(c,"margin-left")-r.getDimension(c,"margin-right");c.css("width",b);c.css("height",v);w(ca)}}function c(b){try{setTimeout(function(){v++;var h=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
h.length?(b in p||(p[b]=h),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&h.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),f()):100>v&&c(b)},100)}catch(h){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+h)}}function E(d,v){T&&clearTimeout(T);"mouseenter"===v.type&&(T=setTimeout(function(){Q(d);a("#image-canvas-caption #canvasCaption").empty();N();W(x,
v)},b.getHoveringDelayTimer()));"mouseleave"===v.type&&N()}var C,m,B,A,x,O,L=!0,l,M,T,q,p={},K=0,v=0,G,ba={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",
euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},ca={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",
featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},ja=e.once(function(){r.attachImmersiveViewResizeHandler(D)});e.on.resize(function(){w(ba)});return function(d,c,f,G){C=this;m=d;B=c;A=G;d=m.mediaAsin;c=[];m&&m.dimensionIngressAtfData&&m.dimensionIngressAtfData.initial&&(c=m.dimensionIngressAtfData.initial.dimensionVariantList);
b.setDimensionIngressData(d,m.dimensionIngressEnabled,c);C.render=function(d,c,h,f,g,l){x=f;L=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();v=K=0;h=J(B.getCurrentItem());if(b.isDimensionIngressEnabled(h)&&m.dimensionIngressThumbURL&&m.dimensionIngressThumbURL.initial&&m.dimensionIngressThumbURL.initial.length){if((h=b.getDimensionVariantList(h))&&0<h.length){g=m.colorImages[d];
l=f.find(".item.imageThumbnail");for(var G=0;G<l.length;G++){var e=g[G].variant;"MAIN"!=e&&h.includes(e)&&(e=l.eq(G))&&(e.remove(),c--)}}c===m.maxAlts&&(f.find(".item.imageThumbnail").last().remove(),c--);O={type:"dimension-ingress-image",index:0,thumbnailIndex:c,variant:"Main"};b.createThumbnail(O,m.dimensionIngressThumbURL.initial,f,"dimension-ingress-imageblock-thumbnail");f=m.dimensionIngressAtfData.initial.thumbnailCaption;f=a("\x3cspan /\x3e").html(f);f.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");
f.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(f);c++;a("#ivDimensionTabHeading").removeClass("aok-hidden");R(d)!==m.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return c}a("#ivDimensionTabHeading").addClass("aok-hidden")};C.update=function(d){var c=d.data;
B.setCurrentEvent(d);"dimension-ingress-image"===c.type?(c.interaction=d.type,c.isUserGenerated=!0,"mouseenter"===d.type&&(l=Date.now(),h.postCountMetric("dpcc_dimensionIngressHovered")),b.isImageBlockGridViewHoverDelayEnabled()?E(c,d):(Q(c),a("#image-canvas-caption #canvasCaption").empty(),N(),W(x,d)),"click"===d.type&&b.useTabbedImmersiveView(m)&&(Z(d),h.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===d.type?c.color===B.getCurrentItem().color&&"dimension-ingress-image"===B.getCurrentItem().type?
F():S():b.isImageBlockGridViewHoverDelayEnabled()?(B.setToPreviousItem(),"mouseenter"===d.type&&(q&&clearTimeout(q),q=setTimeout(function(){B.setToCurrentItem(c);S()},b.getHoveringDelayTimer())),"mouseleave"===d.type&&q&&clearTimeout(q),"click"===d.type&&(B.setToCurrentItem(c),S())):S()};r.attachTabSelectHandler("ivDimensionTab",D);e.declarative("dimension-hero-click",["click"],Z)}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",
function(e,a,b,r,h){function ka(){h.populateTitle(c.find("#ivTitle"),160,D)}function w(){var a=f.getCurrentItem().color;C=D.colorImages[a];E=D.heroImage[a];m=B=0;b.isDefined(E)&&(m=E.length);b.isDefined(C)&&(B=C.length)}function u(a){return a.hiRes||a.large||a.main[a.main.length-1]}function I(){var a=c.find("#ivStage").find("#ivLargeImage"),b=a.width(),h=a.height(),f=a.find(".fullscreen");f.removeAttr("style");var e=f.width(),d=f.height();0<f.length&&(f[0].naturalWidth&&(e=f[0].naturalWidth),f[0].naturalHeight&&
(d=f[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,d=0===d?1:d,m=Math.min(b/e,h/d),q=d*m,p=e*m;1>m?(x?a.css("cursor","url('"+D.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),l=!0):l=!1;e=Math.min(p,e);d=Math.min(q-20,d);f.css({"margin-top":(h-d)/2,"margin-left":(b-e)/2,height:d,width:e});a.css("visibility","visible");L=!1}function t(a){var b=c.find("#ivLargeImage");b.css("visibility","hidden");b.empty();h.animateStageIn(b);
b.append(a);I()}function Q(f){c.find("#ivLargeImage").css("display","none");c.find("#ivLargeImage").css("display","block");var e;"hero-image"===f?b.isDefined(E)&&(e=u(E[A.index])):b.isDefined(C)&&(e=u(C[A.index]));if(b.isDefined(e)){c.find(".fullscreen").remove();var l=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),m=c.find("#ivLargeImage");h.animateStageOut(m,function(){l.load(function(){t(l)});if(l[0].complete)t(l);else{m.empty();var b=(m.height()-104)/2,d=(m.width()-80)/2;a("\x3cimg\x3e").attr("src",
D.staticImages.spinner).css({position:"relative",top:b+"px",left:d+"px"}).appendTo(m)}})}}function V(a){c.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?A.type="hero-image":A.type="image";A.index=a.attr("id").split("_")[1];Q(A.type);r.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(A.index,10)+1)+"_"+(m+B))}function N(){c.delegate(".ivThumb","click",function(){var b=a(this);V(b)})}function J(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function R(a){var b=
T.top-(a.pageY-p[1])*q;a=J(T.left-(a.pageX-p[0])*q,M.left);b=J(b,M.top);c.find(".fullscreen").css({left:a,top:b})}function S(){c.delegate("#ivLargeImage","click",function(a){if(L)I();else if(l){c.find(".fullscreen").removeAttr("style");if(l){var b=c.find("#ivLargeImage"),f=b.find(".fullscreen");x?b.css("cursor","url('"+D.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));L=!0;var e=c.find("#ivLargeImage");M.left=e.width()-
f.width();M.top=e.height()-f.height();var e=b.height()/2,h=b.width()/2;p=[b.offset().left+h,b.offset().top+e];T.top=e-f.height()/2;T.left=h-f.width()/2;f.css({position:"relative",left:T.left,top:T.top});q=Math.max(f.height()/b.height(),f.width()/b.width())}R(a);r.postCountMetric("dpcc_iv_largeImageCLick")}});c.delegate("#ivLargeImage","mousemove",function(a){L&&R(a)})}function F(){c.find("#ivLargeImage").empty()}function W(e){if(O){c=a("#ivMain");w();A=f.getCurrentItem();ka();h.populateVariationSelection(c.find("#ivVariationSelection"));
e=c.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();var l=m+B,q=!1;D&&D.dimensionIngressAtfData&&D.dimensionIngressAtfData.initial&&(q=D.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var p=0,r=0;p<l;)for(var d=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),u=0;4>u&&p<l;u++,p++,r++)if(r<m){var x=E[p].thumb,t=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+p,
"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":p+1}).appendTo(d);t.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(x)+'") center no-repeat')}else if(r>=m&&r<B+m){x=D.colorToAsin[f.getCurrentItem().color].asin;x||(x=D.mediaAsin);if((t=b.isDimensionIngressEnabled(x))&&q){if((x=b.getDimensionVariantList(x))&&x.includes(C[p-m].variant)){u--;continue}}else if(t&&"DIMN"===C[p-m].variant){u--;
continue}x=C[p-m].thumb;t=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(p-m),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":p-m+1}).appendTo(d);t.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(x)+'") center no-repeat')}K();O=!1}else ka();e=a("#ivImagesTab").height();c.css("height",e);l=c.find("#ivTitle").outerHeight(!0);q=c.find("#ivVariationSelection").outerHeight(!0);
p=c.find("#ivThumbs");r=h.getDimension(p,"margin-top")+h.getDimension(p,"margin-bottom");p.css("height",e-l-q-r);c.find("#ivLargeImage").css("height",e);e=c.find("#ivStage");l=c[0]&&c[0].getBoundingClientRect&&Math.floor(c[0].getBoundingClientRect().width)||c.width();e.css("width",l-h.getDimension(c,"padding-left")-h.getDimension(c,"padding-right")-c.find("#ivThumbColumn").width()-h.getDimension(e,"margin-left")-h.getDimension(e,"margin-right"));A=f.getCurrentItem();e="hero-image"===A.type?c.find("#ivHeroImage_"+
A.index):"image"===A.type?c.find("#ivImage_"+A.index):b.isDefined(E)?c.find("#ivHeroImage_"+A.index):c.find("#ivImage_"+A.index);b.isjQueryObjDefined(e)||(e=c.find("#ivImage_0"));V(e)}var Z,D,f,c,E,C,m,B,A,x=navigator.userAgent.match(/msie|trident/i),O=!0,L=!1,l=!1,M={},T={},q,p,O=!0,K=e.once(function(){N();S();h.attachImmersiveViewResizeHandler(W);h.attachTabDeselectHandler("ivImagesTab",F)});return function(b,c,e,l){Z=this;D=b;f=c;Z.render=function(b,d,c,e,f,l){O=!0;w();0===m+B?h.hideTabHeading("ivImagesTabHeading"):
h.unhideTabHeading("ivImagesTabHeading");1===m+B?a("#ivThumbs").hide():a("#ivThumbs").show()};Z.update=function(a){};h.attachTabSelectHandler("ivImagesTab",W)}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(e,a,b,r,h,ka,w){function u(){var b=N.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-
w.getDimension(c,"padding-top")-w.getDimension(c,"padding-bottom");a("#iv-tab-view-container").css("height",b);S=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<S?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),c=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=c):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",b);e.trigger("dp:image-block:immersive-view:resize")}
function I(){e.trigger("dp:image-block:immersive-view:reset")}function U(f){if(b.isImmersiveViewEnabled(V,N.getCurrentItem().color))if(W){var c=f.$event.originalEvent;c.acknowledge&&c.acknowledge(f.$currentTarget[0]);h.isEnabled&&ka.logImmersiveViewRequestServed(h);r.postCountMetric("dppc_immersiveViewOpened");b.isDefined(f)&&("button-360-click"===f.action?a("#iv360TabHeading").click():"videoIngressClick"===f.action?(sa=f.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===f.action?
(sa=f.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===f.action?(sa=f.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());c=N.getImmersiveViewModalInstance();if(b.isDefined(c))c.show();else{f=a("#auiImmersiveViewDiv");var c=Math.min(Math.max(a(t).height()-150,540),1080),u=Math.min(Math.max(a(t).width()-75,990),1980),c=W.create(f,{name:"immersiveView",activate:"onclick",width:u,height:c,popoverLabel:"ImmersiveView",hideHeader:!0});N.setImmersiveViewModalInstance(c);
f.click()}R&&(R=!1,Z(),e.trigger("dp:image-block:immersive-view:init"))}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else r.postCountMetric("immersiveViewNotExistsClickCount")}var Q,V,N,J,R=!0,S=0,sa,W;F.when("a-modal").execute(function(a){W=a});var Z=e.once(function(){e.on("a:popover:afterUpdatePosition:immersiveView",u);e.on("a:popover:afterShow:immersiveView",u);e.on("a:popover:afterHide:immersiveView",
I)}),D=e.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",function(c){var h=b.filter(".iv-active");h.attr("id")!==a(this).attr("id")&&e.trigger("dp:ivTabs:"+h.find("a").attr("data-iv-tab-view")+":deselect",c);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();h=a(this).find("a").attr("data-iv-tab-view");a("#"+h).show();"ivVideosTab"===h&&(c.clickTimeStamp=sa||c.timeStamp);e.trigger("dp:ivTabs:"+h+":select",
c);r.postCountMetric("dppc_"+h);return!1})});return function(a,c,e,u){Q=this;V=a;N=c;h.refToModel=N;J=u;Q.render=function(a,b,c,e,h,f){r.postCountMetric("dpcc_altThumbs_"+b);R=!0};Q.update=function(a){};Q.getTitle=function(){};Q.getVariationSelectionInfo=function(){};D();b.isImmersiveViewEnabled(V,N.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");J.register("imageClick",U);J.register("button360Click",U);b.useTabbedImmersiveView(V)&&(J.register("videoIngressClick",U),J.register("showroomIngressClick",
U),J.register("dimensionIngressClick",U))}});"use strict";F.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(e,a,b,r,h,ka,w,u){function I(a){return a.hiRes||a.large||a.main[a.main.length-1]}function xc(){g.find("#ivTitle").click(function(){ma.hide()})}function Q(){y=Ib?{type:"360-spin"}:ea.getCurrentItem()}function V(){var a=g.find("#ivStage"),b=ma.$container.find(".a-popover-wrapper"),
d=b.find(".a-popover-inner"),b=b.height()-u.getDimension(d,"padding-top")-u.getDimension(d,"padding-bottom");g.css("height",b);var d=g.find("#ivTitle").outerHeight(!0),c=g.find("#ivVariationSelection").outerHeight(!0),k=g.find("#ivMediaSelection").outerHeight(!0),e=g.find("#ivThumbs"),h=u.getDimension(e,"margin-top")+u.getDimension(e,"margin-bottom");e.css("height",b-d-c-k-h);g.find("#ivLargeImage").css("height",b);a.css("width",g.width()-u.getDimension(g,"padding-left")-u.getDimension(g,"padding-right")-
g.find("#ivThumbColumn").width()-u.getDimension(a,"margin-left")-u.getDimension(a,"margin-right"))}function N(){g.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").show(),"chromeful-video"===y.type&&g.find("#ivVideo_"+y.index).click()):"images"===b?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").hide(),"chromeful-video"===y.type&&(0===fa&&0===X?g.find("#iv360").click():
0===fa?g.find("#ivHeroImage_0").click():g.find("#ivImage_0").click())):"videos"===b&&(g.find("#ivVideoList").show(),g.find("#ivThumbs").hide(),"chromeful-video"!==y.type?g.find("#ivVideoList_0").click():g.find("#ivVideoList_"+y.index).click())})}function J(){var a=g.find("#ivStage").find("#ivLargeImage"),b=a.width(),d=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var k=c.width(),e=c.height();0<c.length&&(c[0].naturalWidth&&(k=c[0].naturalWidth),c[0].naturalHeight&&(e=c[0].naturalHeight));
a.css("cursor","auto");var k=0===k?1:k,e=0===e?1:e,h=Math.min(b/k,d/e),f=e*h,l=k*h;1>h?(Jb?a.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Ha=!0):Ha=!1;k=Math.min(l,k);e=Math.min(f-20,e);c.css({"margin-top":(d-e)/2,"margin-left":(b-k)/2,height:e,width:k});a.css("visibility","visible");pb=!1}function R(a){var b=g.find("#ivLargeImage");b.css("visibility","hidden");b.empty();u.animateStageIn(b);b.append(a);
J()}function S(){P&&P.pause();g.find("#ivLarge360").css("display","none");g.find("#ivLargeVideo").css("display","none");g.find("#ivLargeImage").css("display","none");E()}function sa(pa){S();g.find("#ivLargeImage").css("display","block");var k;"hero-image"===pa?b.isDefined(aa)&&(k=I(aa[y.index])):b.isDefined(ua)&&(k=I(ua[y.index]));if(b.isDefined(k)){g.find(".fullscreen").remove();var c=a("\x3cimg\x3e").attr("src",k).addClass("fullscreen"),d=g.find("#ivLargeImage");u.animateStageOut(d,function(){c.load(function(){R(c)});
if(c[0].complete)R(c);else{d.empty();var b=(d.height()-104)/2,pa=(d.width()-80)/2;a("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",top:b+"px",left:pa+"px"}).appendTo(d)}})}}function W(){var a=parseInt(y.index,10)+1;a>=na.length||g.find("#ivVideo_"+a).click()}function Z(){var a;b.isDefined(na)&&(a=na[y.index]);if(b.isDefined(a)){S();var k=g.find("#ivLargeVideo").css("display","block");P?(P.isDetached()&&P.attach(k[0]),b.loadMediaIntoAiry(P,a,Ba,n.tabletWeb),P.show()):(P=
b.createAiryInstanceForChromeful(k,a,Ba,"ImmersiveView"),Ba.enableContinuousPlay&&P.bind("ended",W));P.play({isAsync:!0})}}function D(){Q();var a;a="hero-image"===y.type?g.find("#ivHeroImage_"+y.index):"image"===y.type?g.find("#ivImage_"+y.index):"chromeful-video"===y.type||"chromeless-video"===y.type?g.find("#ivVideo_"+y.index):"360-spin"===y.type?g.find("#iv360"):b.isDefined(aa)?g.find("#ivHeroImage_"+y.index):g.find("#ivImage_"+y.index);b.isjQueryObjDefined(a)||(a=g.find("#ivImage_0"));f(a)}function f(a){g.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivThumbVideo")?(y.type="chromeful-video",y.index=a.attr("id").split("_")[1],Z()):a.hasClass("ivHeroImage")?(y.type="hero-image",y.index=a.attr("id").split("_")[1],sa(y.type)):a.hasClass("iv360Image")?(y.type="360-spin",y.index=0,c()):(y.type="image",y.index=a.attr("id").split("_")[1],sa(y.type))}function c(){S();g.find("#ivLarge360").css("display","block");x();var a=g.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});u.animateStageIn(a)},
200);m();h.postCountMetric("dppc_click360");Za=Date.now()}function E(){0<Za&&(C("dppc_duration360",Date.now()-Za),Za=0)}function C(a,b){t.ue&&t.ue.count(a,b)}function m(){if(0<Ga){var a=g.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function B(b,k){if(Ga<b.length){var c=a("\x3cimg /\x3e").css({display:"block",width:6*Ca+"px",height:Wa+"px"});c.hide();k.append(c);c.get(0).onload=function(){k.closest(document.documentElement).length&&(Ga++,1===Ga&&(m(),0<Za&&C("dppc_loadTime360",
Date.now()-Za)),0<Eb&&C("dppc_perSpriteloadTime360",Date.now()-Eb),g.find("#iv360Spinner").hide(),c.show(),jb=5*H.imageLocations[Math.floor(kb/H.imageLocations[0].length)][kb%H.imageLocations[0].length],B(b,k))};c.attr("src",b[Ga].replace(/(\._SP)\d+(,)\d+/,"$1"+Ya+"$2"+Xa));Eb=Date.now()}}function A(a){if(b.isDefined(H.spriteWidthSizes)&&0<H.spriteWidthSizes.length){var k=H.spriteWidthSizes,c=k.length,d=k[0],e=k[c-1];if(a<=d)return d;if(a>e)return e;for(d=0;d<c;d++)if(a>k[d]&&a<=k[d+1])return k[d+
1]}else return a}function x(){var b=g.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",
transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Cb=!0,O())}function O(){if(b.isDefined(H.spriteURLs)&&b.isDefined(g)&&Cb&&!Db){var k=g.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(H.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",H.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(c);
c.appendTo(k);var c=H.imageWidth,d=H.imageHeight,e=k.parent().width(),h=k.parent().height(),f=0,m=0;c/d>e/h?(Ya=A(e),Xa=Math.round(d/c*Ya),Ca=Math.ceil(e),Wa=Math.ceil(Xa/Ya*e),m=(h-Wa)/2):(Xa=A(h),Ya=Math.round(c/d*Xa),Wa=Math.ceil(h),Ca=Math.ceil(Ya/Xa*h),f=(e-Ca)/2);k.css({"margin-left":f,"margin-top":m,width:Ca+"px",height:Wa+"px",overflow:"hidden",position:"relative"});k.children("#image-360-sprites").css("width",6*Ca+"px");B(H.spriteURLs,g.find("#image-360-sprites"),0);c=g.find("#ivLarge360");
c.bind("mousedown",T);c.bind("touchstart",L);c.bind("touchmove",l);c.bind("touchend",M);a(document).bind("mousemove",q);a(document).bind("mouseup",p);b.isDefined(n.staticImages.grab)&&k.css("cursor","url('"+n.staticImages.grab+"'), auto");Db=!0}}function L(a){ob=!0;Bb=a.originalEvent.targetTouches[0].clientX}function l(a){ob&&(K(a.originalEvent.targetTouches[0].clientX-Bb),Bb=a.originalEvent.targetTouches[0].clientX)}function M(a){ob&&(ob=!1)}function T(a){nb=!0;Ab=a.originalEvent.clientX;b.isDefined(n.staticImages.grabbing)&&
(a=g.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+n.staticImages.grabbing+"'), auto"));return!1}function q(a){nb&&(K(a.originalEvent.clientX-Ab),Ab=a.originalEvent.clientX)}function p(a){nb&&(nb=!1,b.isDefined(n.staticImages.grab)&&(a=g.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function K(a){for(a=jb-=a/Ca*180;0>a;)a+=
360;for(;360<a;)a-=360;jb=a;var c;a=360;for(var k=0;k<Ga;k++)for(var d=0;d<H.imageLocations[k].length;d++){var e=Math.abs(jb-5*H.imageLocations[k][d]);e<a&&(a=e,c=k*H.imageLocations[0].length+d)}c!==kb&&(a=Math.floor(c/H.imageLocations[0].length),a!==Math.floor(kb/H.imageLocations[0].length)&&(b.isDefined(Fb)||(Fb=document.createElement("canvas").getContext("2d")),k=g.find("#image-360-sprites").children(),Fb.drawImage(k[a],0,0)),a=g.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));kb=c;a=c%H.imageLocations[0].length*-1*Ca;c=-1*Math.floor(c/H.imageLocations[0].length)*Wa;k=g.find("#ivLarge360").children("#image-360-sprites");k.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");k.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function v(){g.delegate(".ivThumb","click",function(){var b=a(this);f(b)});g.delegate(".ivThumbVideoListOuter","click",function(){g.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
y.type="chromeful-video";y.index=b.attr("id").split("_")[1];Z()})}function G(){P&&!P.isDetached()&&(Ba.volume=P.getVolume(),P.detach(),!document.all||t.atob||document.addEventListener||(P=null));g.find("#ivLargeImage").empty();E()}function ba(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function ca(b){var k=va.left-(b.pageX-Da[0])*ga;e.capabilities.rtl&&(k=va.left-(a(t).width()-b.pageX-Da[0])*ga);b=va.top-(b.pageY-Da[1])*ga;k=ba(k,Ia.left);b=ba(b,Ia.top);g.find(".fullscreen").css({left:k,top:b})}
function ja(){g.delegate("#ivLargeImage","click",function(a){if(pb)J();else if(Ha){g.find(".fullscreen").removeAttr("style");if(Ha){var b=g.find("#ivLargeImage"),k=b.find(".fullscreen");Jb?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));pb=!0;var c=g.find("#ivLargeImage");Ia.left=c.width()-k.width();Ia.top=c.height()-k.height();var c=b.height()/2,d=b.width()/2;Da=[b.offset().left+d,b.offset().top+
c];va.top=c-k.height()/2;va.left=d-k.width()/2;k.css({position:"relative",left:va.left,top:va.top});ga=Math.max(k.height()/b.height(),k.width()/b.width())}ca(a)}});g.delegate("#ivLargeImage","mousemove",function(a){pb&&ca(a)})}function d(c){if(b.isImmersiveViewEnabled(n,ea.getCurrentItem().color))if(Ja){var d=c.$event.originalEvent;d.acknowledge&&d.acknowledge(c.$currentTarget[0]);Ib=b.isDefined(c)&&"button-360-click"===c.action;ka.isEnabled&&w.logImmersiveViewRequestServed(ka);h.postCountMetric("dppc_immersiveViewOpened");
if(b.isDefined(ma))ma.show();else{c=a("#auiImmersiveViewDiv");var d=a(t).height()-150,f=a(t).width()-75;ma=Ja.create(c,{name:"immersiveView",activate:"onclick",width:f,height:d,popoverLabel:"ImmersiveView",hideHeader:!0});c.click()}if(Gb){g=a("#ivMain");c=ea.getCurrentItem().color;ua=n.colorImages[c];aa=n.heroImage[c];na=n.useChildVideos?n.colorToVideo[c]:n.videos;Hb=da()&&n.spin360ColorEnabled[c];H=da()?n.spin360ColorData[c]:U;Q();oa=X=k=fa=0;b.isDefined(aa)&&(X=aa.length);b.isDefined(ua)&&(fa=ua.length);
b.isDefined(na)&&(k=na.length);Hb&&(oa=1);u.populateTitle(g.find("#ivTitle"),45,n);u.populateVariationSelection(g.find("#ivVariationSelection"));c=g.find("#ivMediaSelect");0===fa+oa||0===k?(c.parent().hide(),g.find("#ivThumbs").addClass("noMediaSelection")):(c.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(X+fa+oa+k)+")").appendTo(c),a("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(X+fa+oa)+")").appendTo(c),a("\x3coption/\x3e").attr("value",
"videos").text(n.staticStrings.videos+" ("+k+")").appendTo(c),c.parent().show(),c.val("all"));c=g.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var d=X+fa+k+oa,l=f=0;f<d;)for(var m=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),y=0;3>y&&f<d;y++,f++,l++)if(l<X){var p=aa[f].thumb,q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(m);q.find(".ivThumbImage").css("background",
'url("'+u.getResizedThumbnailURL(p)+'") center no-repeat')}else if(l>=X&&l<fa+X)p=ua[f-X].thumb,q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-X)).appendTo(m),q.find(".ivThumbImage").css("background",'url("'+u.getResizedThumbnailURL(p)+'") center no-repeat');else if(l>=X+fa&&l<fa+X+oa)q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(m),q.find(".ivThumbImage").css("background",'url("'+
(b.isDefined(n.staticImages.icon360)?u.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(p=na[f-fa-X-oa],q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(f-fa-X-oa)).appendTo(m),q.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),b.isDefined(p)){var P={position:"triggerTop"},r=g.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");
r.find(".ivVideoPopoverTitle").text(p.title);r.find(".ivVideoPopoverDuration").text(p.durationTimestamp);P.inlineContent=r[0];e.declarative.create(q,"a-tooltip",P)}c=g.find("#ivVideoList");c.find(".ivThumbVideoListOuter").not(".placeholder").remove();d=c.find(".placeholder");for(f=0;f<k;f++)l=na[f],m=d.clone().removeClass("placeholder").appendTo(c),m.attr("id","ivVideoList_"+f),m.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),m.find(".ivThumbTitle").text(l.title),
m.find(".ivThumbDuration").text(l.durationTimestamp);g.find("#ivLarge360").empty();Ga=0;Db=Cb=!1;Ba=n.airyConfig;Gb=!1;wa()}}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else h.postCountMetric("immersiveViewNotExistsClickCount")}function Aa(a){var c=n.colorToAsin[a],k={},d=500;if(c&&c.asin){k.params={asin:c.asin};var e="360"+c.asin,f=Date.now();k.success=function(c){C("dppc_asyncRequestTime360",
Date.now()-f);c&&b.isDefined(c.spin360.spin360Model)?(b.ajaxState(e,"success"),n.spin360ColorData[a]=c.spin360.spin360Model,a===ea.getCurrentItem().color&&(H=n.spin360ColorData[a],O())):k.error()};k.error=function(){h.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",Date.now()-f);d*=2;16E3>=d?setTimeout(function(){f=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",k)},d):b.ajaxState(e,"fail")};b.ajaxState(e)&&"fail"!==b.ajaxState(e)||(r.load("/gp/product/features/apparel-main-image/360.html",
k),b.ajaxState(e,"sent"))}}function da(){return b.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var la,n,ea,ta,ma,g,aa,ua,na,X,fa,k,oa,y,P,Ba,H,Hb,Ca,Wa,Xa,Ya,Ab,Bb,Ib=!1,Cb=!1,Db=!1,jb=0,kb=0,Za=0,Eb=0,nb=!1,ob=!1,Ga=0,Fb,Jb=navigator.userAgent.match(/msie|trident/i),Gb=!0,pb=!1,Ha=!1,Ia={},va={},ga,Da,Ja;F.when("a-modal").execute(function(a){Ja=a});var wa=e.once(function(){N();v();ja();e.on("a:popover:afterUpdatePosition:immersiveView",V);e.on("a:popover:afterShow:immersiveView",D);
e.on("a:popover:afterHide:immersiveView",G);xc()});return function(c,k,f,g){la=this;n=c;ea=k;ka.refToModel=ea;ta=g;da()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);b.isDefined(n.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",u.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));la.render=function(a,c,k,d,f,g){Gb=!0;da()&&n.spin360ColorEnabled[a]&&
!b.isDefined(n.spin360ColorData[a])&&(n.spin360ColorData[a]={},Aa(a));b.isImmersiveViewEnabled(n,ea.getCurrentItem().color)&&da()&&n.spin360ColorEnabled[a]&&(c===n.maxAlts&&(a=d.find(".item.imageThumbnail"),k=d.find(".item.videoThumbnail"),b.isDefined(k)&&1<k.length?k.last().remove():a.last().remove(),c--),a=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(a,"button-360-click"),d.append(a),c++,h.postCountMetric("dppc_display360"));
return c};la.update=function(a){};b.isImmersiveViewEnabled(n,ea.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");ta.register("imageClick",d);ta.register("button360Click",d)}});"use strict";F.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(e,a,b,r,h,t,w,u,I){function F(){var b=a("#iv360Tab").height();q.css("height",b);var c=
q.find("#ivTitle360").outerHeight(!0),d=q.find("#ivVariationSelection360").outerHeight(!0),e=q.find("#ivThumbs360"),f=w.getDimension(e,"margin-top")+w.getDimension(e,"margin-bottom");e.css("height",b-c-d-f);b=q.find("#ivStage360");c=q[0]&&q[0].getBoundingClientRect&&Math.floor(q[0].getBoundingClientRect().width)||q.width();b.css("width",c-w.getDimension(q,"padding-left")-w.getDimension(q,"padding-right")-q.find("#ivThumbColumn360").width()-w.getDimension(b,"margin-left")-w.getDimension(b,"margin-right"))}
function Q(){R();var a=q.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});w.animateStageIn(a)},200);V()}function V(){if(0<g){var a=q.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function N(b,c){if(g<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*K+"px",height:v+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(g++,1===g&&(V(),0<n&&(h.time("dppc_loadTime360",Date.now()-
n,l.mediaAsin),t.postTimeMetric("dppc_loadTime360",Date.now()-n))),0<ea&&(h.time("dppc_perSpriteloadTime360",Date.now()-ea,l.mediaAsin),t.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ea)),q.find("#iv360Spinner").hide(),d.show(),da=5*p.imageLocations[Math.floor(la/p.imageLocations[0].length)][la%p.imageLocations[0].length],N(b,c))};d.attr("src",b[g].replace(/(\._SP)\d+(,)\d+/,"$1"+ba+"$2"+G));ea=Date.now()}}function J(a){if(b.isDefined(p.spriteWidthSizes)&&0<p.spriteWidthSizes.length){var c=
p.spriteWidthSizes,d=c.length,e=c[0],f=c[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>c[e]&&a<=c[e+1])return c[e+1]}else return a}function R(){var b=q.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",
l.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),d=!0,S())}function S(){if(b.isDefined(p.spriteURLs)&&b.isDefined(q)&&d&&!Aa){var k=q.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(p.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",
p.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(l.staticStrings.dragToSpin).appendTo(e);e.appendTo(k);var e=p.imageWidth,h=p.imageHeight,g=k.parent().width(),m=k.parent().height(),n=0,aa=0;e/h>g/m?(ba=J(g),G=Math.round(h/e*ba),K=Math.ceil(g),v=Math.ceil(G/ba*g),aa=(m-v)/2):(G=J(m),ba=Math.round(e/h*G),v=Math.ceil(m),K=Math.ceil(ba/G*m),n=(g-K)/2);k.css({"margin-left":n,"margin-top":aa,width:K+"px",height:v+"px",overflow:"hidden",position:"relative"});k.children("#image-360-sprites").css("width",
6*K+"px");N(p.spriteURLs,q.find("#image-360-sprites"),0);e=q.find("#ivLarge360");e.bind("mousedown",D);e.bind("touchstart",sa);e.bind("touchmove",W);e.bind("touchend",Z);a(document).bind("mousemove",f);a(document).bind("mouseup",c);b.isDefined(l.staticImages.grab)&&k.css("cursor","url('"+l.staticImages.grab+"'), auto");Aa=!0}}function sa(a){ma=!0;ja=a.originalEvent.targetTouches[0].clientX}function W(a){ma&&(E(a.originalEvent.targetTouches[0].clientX-ja),ja=a.originalEvent.targetTouches[0].clientX)}
function Z(a){ma&&(ma=!1)}function D(a){ta=!0;ca=a.originalEvent.clientX;b.isDefined(l.staticImages.grabbing)&&(a=q.find("#ivLarge360"),a.css("cursor","url('"+l.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+l.staticImages.grabbing+"'), auto"));return!1}function f(a){ta&&(E(a.originalEvent.clientX-ca),ca=a.originalEvent.clientX)}function c(a){ta&&(ta=!1,b.isDefined(l.staticImages.grab)&&(a=q.find("#ivLarge360"),a.css("cursor","url('"+l.staticImages.grab+
"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function E(a){da-=a/K*180;ua&&(h.count("dppc_360dragToSpin",l.mediaAsin),t.postCountMetric("dppc_360dragToSpin"));ua=!1;for(a=da;0>a;)a+=360;for(;360<a;)a-=360;da=a;var c;a=360;for(var d=0;d<g;d++)for(var e=0;e<p.imageLocations[d].length;e++){var f=Math.abs(da-5*p.imageLocations[d][e]);f<a&&(a=f,c=d*p.imageLocations[0].length+e)}c!==la&&(a=Math.floor(c/p.imageLocations[0].length),a!==Math.floor(la/p.imageLocations[0].length)&&(b.isDefined(aa)||
(aa=document.createElement("canvas").getContext("2d")),d=q.find("#image-360-sprites").children(),aa.drawImage(d[a],0,0)),a=q.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));la=c;a=c%p.imageLocations[0].length*-1*K;c=-1*Math.floor(c/p.imageLocations[0].length)*v;d=q.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");d.css("transform","translate3d("+a+"px, "+c+"px, 0)")}
function C(){if(X){q=a("#ivMain360");var b=M.getCurrentItem().color;B()&&A(b);p=B()?l.spin360ColorData[b]:U;w.populateTitle(q.find("#ivTitle360"),160,l);w.populateVariationSelection(q.find("#ivVariationSelection360"));q.find("#ivLarge360").empty();g=0;Aa=d=!1;la=da=0;fa();X=!1}0!==a("#iv360Tab").height()&&(w.detachImmersiveViewResizeHandler(C),F(),Q(),n=Date.now(),na=ua=!0,h.count("dppc_click360",l.mediaAsin),t.postCountMetric("dppc_click360"))}function m(a,c,d){a=l.colorToAsin[d];var e={},f=500;
if(!a||!a.asin)if(d===l.defaultColor)a={asin:l.winningAsin};else return;e.params={asin:a.asin};var g="360"+a.asin,m=Date.now();e.success=function(a){h.time("dppc_asyncRequestTime360",Date.now()-m,l.mediaAsin);t.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);a&&b.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&u.setData(a),b.ajaxState(g,"success")):e.error()};e.error=function(){h.count("dppc_asyncFailedTransient360",l.mediaAsin);t.postCountMetric("dppc_asyncFailedTransient360");h.time("dppc_asyncRequestTime360",
Date.now()-m,l.mediaAsin);t.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);f*=2;16E3>=f?setTimeout(function(){m=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",e)},f):(h.count("dppc_asyncFailed360",l.mediaAsin),t.postCountMetric("dppc_asyncFailed360"),b.ajaxState(g,"fail"))};b.ajaxState(g)&&"fail"!==b.ajaxState(g)||(r.load("/gp/product/features/apparel-main-image/360.html",e),b.ajaxState(g,"sent"))}function B(){return l&&b.isDefined(l.spin360ConfigEnabled)&&l.spin360ConfigEnabled}
function A(a){return b.isDefinedAndNotEmpty(l.spin360ColorData[a])?!0:b.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled}function x(){na&&(h.time("dppc_duration360",Date.now()-n,l.mediaAsin),t.postTimeMetric("dppc_duration360",Date.now()-n),na=!1)}function O(a){a=l.colorToAsin[a.color]&&l.colorToAsin[a.color].asin;a||(a=l.mediaAsin);return a}var L,l,M,T,q,p,K,v,G,ba,ca,ja,d=!1,Aa=!1,da=0,la=0,n=0,ea=0,ta=!1,ma=!1,g=0,aa,ua=!0,na=!1,X=!0,fa=e.once(function(){w.attachImmersiveViewResizeHandler(C);
w.attachImmersiveViewResizeHandler(F);w.attachImmersiveViewResetHandler(x);w.attachTabDeselectHandler("iv360Tab",x)});return function(c,d,f,g){L=this;l=c;M=d;T=g;c=l.landingAsinColor;d=l.defaultColor;b.isDefined(l.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",w.addStyleCodeToURL(l.staticImages.icon360,"_FMpng_RI_"));B()&&(l.spin360ColorData||(l.spin360ColorData={}),c===d&&b.isDefinedAndEmpty(l.spin360ColorData[d])&&delete l.spin360ColorData[d]);
e.on(I.TWISTER_DATA_EVENT,function(a){O(M.getCurrentItem())===a&&(p=u.getData(a),S(),a={type:"updatedData",data:M.getCurrentItem()},T.dispatch("updateView",a))});L.render=function(c,d,f,g,k,n){X=!0;!B()||b.isDefinedAndEmpty(l.spin360ColorData[c])&&!u.getData(O(M.getCurrentItem()))?w.hideTabHeading("iv360TabHeading"):(l.spin360ColorData[c]=u.getData(O(M.getCurrentItem())),b.isDefinedAndNotEmpty(l.spin360ColorData[c])?(a("#ivThumbs360").hide(),w.unhideTabHeading("iv360TabHeading"),b.isImmersiveViewEnabled(l,
M.getCurrentItem().color)&&B()&&A(c)&&(d===l.maxAlts&&(c=g.find(".item.imageThumbnail"),d=g.find(".item.videoThumbnail"),b.isDefined(d)&&1<d.length?d.last().remove():c.last().remove()),c=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(c,"button-360-click"),g.append(c),h.count("dppc_display360",l.mediaAsin),t.postCountMetric("dppc_display360"))):b.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled?(l.spin360ColorData[c]=
{},w.hideTabHeading("iv360TabHeading"),m(g,d,c)):w.hideTabHeading("iv360TabHeading"))};L.update=function(a){};w.attachTabSelectHandler("iv360Tab",C)}});F.register("nexusLogger360",function(){return{count:function(e,a){t.ue&&t.ue.event({asin:a,metricName:e,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(e,a,b){t.ue&&t.ue.event({asin:b,metricName:e,metricValue:a},"hit-360","hit360.clientEvent.3")}}});F.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
F.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(e,a){var b={};return{setData:function(r){var h=r.asin;b[h]||(b[h]=r,e.trigger(a.TWISTER_DATA_EVENT,h))},getData:function(a){return b[a]}}});"use strict";F.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(e){function a(){this.render=function(){};this.update=function(){}}return function(b,r,h,t){var w=!1,u=new a;F.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==
U&&(w=!0,u=new a(b,r,h,t))});b&&!0===b.showroomEnabled&&!1===w&&e.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return u}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(e,a,b,r,h,F,w){function u(){m.delegate(".ivThumb","click",function(){var b=a(this);m.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&
(B.type="chromeful-video",B.index=b.attr("id").split("_")[1])})}function I(){if(d){var b=a("#ivVideosTab").height();m.css("height",b);var c=m.find(".vse-lb-container");A=b-h.getDimension(c,"padding-top")-h.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(G){m.css({"max-width":Math.floor(1.77*A)});return}var b=m.find(".vse-player-container"),c=m.find(".vse-video-action-strip"),e=m.find(".vse-lb-video-metadata"),f=Math.floor(A-h.getDimension(e,"height")-h.getDimension(c,
"height")),g=Math.floor(1.77*f);b.css({"max-height":f,"max-width":g,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":g,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":g,marginLeft:"auto",marginRight:"auto"})}ba&&(b=m.find(".vse-vertical-scroll"),c=h.getDimension(b,"margin-top")+h.getDimension(b,"margin-bottom"),b.css("max-height",A-c))}function U(){Q();x&&x.pause();ca=!1;K=!0;M=null;ja=!0;d=!1}function Q(){ca=!1;x&&x.pause()}function V(d){M=d.clickTimeStamp?d.clickTimeStamp:e.now();
b.isDefined(C)&&(C.eventTimestamp=M);ca=!0;v&&(w.get(e,"#ivVideoBlock",E,ma,g),m=a("#ivVideoBlock"),c.getCurrentItem(),B=c.getCurrentItem(),n(),W());I();v=!1;R()}function N(b){v&&(m=a("#ivVideoBlock"),c.getCurrentItem(),B=c.getCurrentItem(),n());ca&&R();I()}function J(a){x=a.player;r.postTimeMetric("vse_ib_desktop_player_initialisation_duration",e.now()-la);f.imageBlockRenderingStartTime&&r.postTimeMetric("vse_ib_desktop_time_to_player_interactive",e.now()-f.imageBlockRenderingStartTime);d&&(W(),
R())}function R(){if(x&&ca&&(m.find(".vse-lb-container").animate({opacity:1},200),x.play(C),r.postCountMetric("dpcc_vse_videoBlock_video_played"),K)){var a=t.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,r.postTimeMetric("dpcc_vse_vitff",a),K=!1)}}function S(){e.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function sa(a){O=a.popover.$popover;d=!0;W()}function W(){if(d&&ja&&ca&&x){O.addClass(e.$(O).find(".vse-lb-container").data("cssClass"));var a=C;Aa&&(a=da,
Aa=!1);e.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});I();ja=!1}}function Z(a){document.getElementsByClassName("videoBlockIngress")[0].click();da=a;Aa=!0}var D,f,c,E,C,m,B,A,x,O,L,l,M,T,q,p,K=!0,v=!0,G=!1,ba=!1,ca=!1,ja=!0,d=!1,Aa=!1,da,la=0,n=e.once(function(){u();h.attachImmersiveViewResizeHandler(N);h.attachTabDeselectHandler("ivVideosTab",Q);h.attachImmersiveViewResetHandler(U)}),ea=function(d,e,g){a("#ivVideoBlockSpinner").addClass("aok-hidden");
r.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);d=c.getCurrentItem().color;d=b.getVideoHash(d,0,f);x||(x=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),d,f.airyConfig,"ImmersiveView"));G=!0;a("#ivVideoBlock").css({"max-width":1.77*A,margin:"0 auto"});ca&&G&&x.play({isAsync:!0})},ta=function(b,c,d){v||w.get(b,"#ivVideoBlock",E,ma,g);a("#ivVideoBlockSpinner").addClass("aok-hidden")},ma=function(a,b,c){ba=!0;I()},g=function(a,b,c){r.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+
b.pageContext.placement+"_"+b.configuration.type)};return function(a,d,g,m){D=this;f=a;c=d;D.render=function(a,d,g,m,n,r){a=c.getCurrentItem().color;d=b.getVideoHash(a,0,f);!0===r?L=f.mediaAsin:(L=f.colorToAsin[a]&&f.colorToAsin[a].asin,L=b.isDefined(L)?L:f.mediaAsin);l=null!==f.vseVideoDataSourceTreatment&&"T1"===f.vseVideoDataSourceTreatment?"ASIN":"physicalID";T=f.contentWeblab;q=f.contentWeblabTreatment;p=f.parentAsin||"";v=!0;-1===d?h.hideTabHeading("ivVideosTabHeading"):(h.unhideTabHeading("ivVideosTabHeading"),
E={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:d.marketPlaceID,locale:d.languageCode,product:{contentID:L,contentIDType:"ASIN",parentContentID:p,parentContentIDType:"ASIN"},video:{contentID:d.mediaObjectId,contentIDType:l,videoURL:d.url,imageURL:d.slateUrl},requestId:f.dpRequestId,weblabContext:[{name:T,assignment:q,ignoreForG2S2Key:!0}],metadata:{ProductTitle:f.title}},C={videoUrl:E.video.videoURL,contentId:E.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(M)?
M:e.now(),imageUrl:E.video.imageURL,productAsin:E.product.contentID,index:0},b.isDefinedAndNotEmpty(x)&&(x.destroy(),x=null),la=e.now(),F.get(e,"#ivVideoBlock",E,ta,ea))};D.update=function(a){};h.attachTabSelectHandler("ivVideosTab",V);e.on("vsePlayer-detailpage-imageblock",J);e.on("a:popover:afterShow:immersiveView",sa);e.on("a:popover:beforeHide:immersiveView",S);e.on("detailpage-imageblock-leave-pip",Z)}})});
/* ******** */
(function(b){var f=window.AmazonUIPageJS||window.P,h=f._namespace||f.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,f,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,e=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(e&&0<e.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=d("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,e,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+g[g.length-1];for(b=1;b<g.length;b++)if(c<=g[b]){a="image_size_bucket:"+g[b-1]+"-"+g[b];break}k.postCountMetric(a);e.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;e.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=f.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var b=f.ue;b&&b.count(a,c)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(a,b,d,e,k,g,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:e,pageUrl:k,pageAsin:g,weblabIds:f}}}});b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var e=a.state("desktop-landing-image-data");e&&(e=a.values(e),b=b.getResourceTimeByName("img",e),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",f.parseInt(a.transferSize)),
d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,e=m?m("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,m){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(c){c&&(l.load.js(c),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(c){c&&l.load.css(c)}
var c=e.airyConfig;c===m?l.when("ImageBlockBTF").execute(function(e){c=e.airyConfig;f(c.jsUrl);k(c.cssUrl)}):(f(c.jsUrl),k(c.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,d){var b;
if(d.repositionHeroImage){b=a[1];var c=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))b*=.7,c*=.7;else{var e=((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,1),0);b*=.7+.3*e;c*=.7+.3*e}b=[b,c]}return b}function c(a,d,b){var c;if(b.repositionHeroImage){var e=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){c=Math.max((e-
Math.min(1500,a))/2,0);var k=Math.max((e-a)/2,0);c-=k;e=Math.max(Math.min(e,1500),1024);c=c+(e-420-23)/2-a/d[1]*b}}return c}function h(a,d,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[d])&&f.isDefined(a[d][b])&&f.isDefined(a[d][b].main))||1>e.map(a[d][b].main,function(a,b){return b}).length?-1:a[d][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,d,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,d.color,d.index);if(-1===b)return;d=e.map(b.main,function(a,b){return b})[0];
b=b.main[d]}d=k(b,a);a=c(d[0],b,a);return{height:d[1],width:d[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function c(a,d){var b=e.copy(a);if(k.isDefined(a)&&a.length>d){try{for(var c=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)c=h;if(h===d-4){b=a.substring(0,-1===c?h:c);break}}}catch(g){b=a.substring(0,d-3)}b+="..."}return b}function h(a,d){var b=a.lastIndexOf(".");
return a="_"===a.charAt(b-1)?a.substring(0,b-1)+d+a.substring(b):a.substring(0,b)+"."+d+a.substring(b)}return{getDimension:function(a,d){var b=parseInt(a.css(d),10);return isNaN(b)?0:b},attachTabSelectHandler:function(a,d){e.on("dp:ivTabs:"+a+":select",d)},attachTabDeselectHandler:function(a,d){e.on("dp:ivTabs:"+a+":deselect",d)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,d){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";d&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&
k.isDefined(g.DetailPage.StateController)){a.empty();var d=g.DetailPage.StateController.getState(),b=d.variation_label_order,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c],h=d.selected_variations[e],e=d.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,d,b){a.html(b.title);a.attr("title",a.text());a.html(c(b.title,d))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,e){g.ueLogError&&g.ueLogError(e,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(c,h){try{var a=c.A,d=c.block,b=c.request,g=c.handleFailure,l=c.handleSuccess,r=a.$;h--;var n=
3-h-1,p=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(c){var h=a.now()-p;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+n);r(d).html(c);l(a,b,c)},error:function(d){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+n);(0===d.http.status||500<=d.http.status&&599>=
d.http.status)&&0<h?k(c,h):(e.postCountMetric("vse_preLoaderHook:error:",1),g(a,b,d))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(c,h,a){try{var d=c.A,b=c.context,g=c.handleFailure,l=c.handleSuccess;h.attr("data-configuration");var r=atob(h.attr("data-configuration")),n=JSON.parse(r),p={pageContext:b,configuration:n},
q=d.now();a--;var m=3-a-1;d.ajax("/vap/ew/subcomponent/"+n.type,{params:p,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",c);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+n.type+":"+m);h.html(a);l(d,p,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+n.type+":"+m);(0===f.http.status||
500<=f.http.status&&599>=f.http.status)&&0<a?k(c,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",1),g(d,p,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(c,e,a,d,b){var f=c.$;f(e+" div[data-configuration]").each(function(){k({A:c,context:a,handleFailure:b,handleSuccess:d},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(c,h,a){try{var d=c.A,b=c.block,g=c.request,l=c.handleFailure,m=c.handleSuccess,n=d.$;a--;var p=3-a-
1,q=d.now();d.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+p);n(b).html(a);m(d,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+p);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(c,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(d,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
